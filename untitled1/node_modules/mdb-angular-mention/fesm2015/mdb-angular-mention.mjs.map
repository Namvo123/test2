{"version":3,"file":"mdb-angular-mention.mjs","sources":["../../../projects/mdb-angular-mention/src/lib/mention-item.component.ts","../../../projects/mdb-angular-mention/src/lib/mention-item.component.html","../../../projects/mdb-angular-mention/src/lib/mention.animations.ts","../../../projects/mdb-angular-mention/src/lib/mention.component.ts","../../../projects/mdb-angular-mention/src/lib/mention.component.html","../../../projects/mdb-angular-mention/src/lib/mention.directive.ts","../../../projects/mdb-angular-mention/src/lib/mention.module.ts","../../../projects/mdb-angular-mention/src/public-api.ts","../../../projects/mdb-angular-mention/src/mdb-angular-mention.ts"],"sourcesContent":["import { Component, Input } from '@angular/core';\n\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'mention-item',\n  templateUrl: `mention-item.component.html`,\n  styles: [],\n})\nexport class MdbMentionItemComponent {\n  constructor() {}\n  @Input() item: any;\n  @Input() queryBy: string;\n  @Input() optionHeight = 35;\n  @Input() showImg = false;\n\n  @Input() mentionValue = '';\n  active = false;\n\n  setActiveStyles(): void {\n    if (!this.active) {\n      this.active = true;\n    }\n  }\n\n  setInactiveStyles(): void {\n    if (this.active) {\n      this.active = false;\n    }\n  }\n\n  highlightMatchingLetters(itemName) {\n    const matchingLetters = new RegExp(`(?<captureGroup>${this.mentionValue})`, 'gi');\n\n    return itemName.replace(matchingLetters, '<strong>$<captureGroup></strong>');\n  }\n}\n","<li #mentionItem\n    [ngStyle]=\"{'height': optionHeight + 'px'}\"\n    [ngClass]=\"{'active': active}\"\n    class=\"mention-item\">\n    <span\n    [innerHTML]=\"highlightMatchingLetters(item[queryBy])\"\n    ></span>\n    <img *ngIf=\"item.image && item.image !== '' && showImg\" [src]=\"item.image\" class=\"mention-item-image rounded-circle\">\n</li>","import {\n  trigger,\n  state,\n  style,\n  transition,\n  animate,\n  query,\n  animateChild,\n} from '@angular/animations';\n\nexport const dropdownContainerAnimation = trigger('dropdownContainerAnimation', [\n  transition('* => void', [query('@*', [animateChild()], { optional: true })]),\n]);\n\nexport const dropdownAnimation = trigger('dropdownAnimation', [\n  state(\n    'void',\n    style({\n      transform: 'scaleY(0.9)',\n      opacity: 0,\n    })\n  ),\n  state(\n    'visible',\n    style({\n      opacity: 1,\n      transform: 'scaleY(1)',\n    })\n  ),\n  transition('void => *', animate('300ms ease')),\n  transition('* => void', animate('300ms ease')),\n]);\n","import { ActiveDescendantKeyManager } from '@angular/cdk/a11y';\nimport {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n} from '@angular/core';\nimport { MdbMentionItemComponent } from './mention-item.component';\nimport { dropdownAnimation, dropdownContainerAnimation } from './mention.animations';\n@Component({\n  // eslint-disable-next-line @angular-eslint/component-selector\n  selector: 'mdb-mention',\n  templateUrl: `mention.component.html`,\n  styles: [],\n  animations: [dropdownAnimation, dropdownContainerAnimation],\n})\nexport class MdbMentionComponent implements AfterViewInit {\n  constructor() {}\n  @ViewChildren(MdbMentionItemComponent) options: QueryList<MdbMentionItemComponent>;\n  @ViewChild('dropdownList') _dropdownList: ElementRef;\n  @Input() optionHeight = 35;\n\n  noResultText = 'No result found';\n  visibleItems = 5;\n  items: any[] = [];\n  queryBy = 'username';\n  showNoResultText = true;\n  asyncError = false;\n  showImg = false;\n  mentionValue = '';\n\n  @Output() optionClick: EventEmitter<any> = new EventEmitter();\n  @Output() tabout: EventEmitter<any> = new EventEmitter();\n\n  keyManager: ActiveDescendantKeyManager<MdbMentionItemComponent>;\n\n  ngAfterViewInit() {\n    this.keyManager = new ActiveDescendantKeyManager<MdbMentionItemComponent>(this.options);\n    setTimeout(() => {\n      this.keyManager.setFirstItemActive();\n    }, 0);\n\n    this.options.changes.subscribe(() => {\n      setTimeout(() => {\n        this.keyManager.setFirstItemActive();\n      }, 0);\n    });\n\n    this.keyManager.tabOut.subscribe(() => {\n      this.tabout.emit();\n    });\n  }\n\n  @HostListener('window:keydown', ['$event'])\n  handleKeyDown(event: KeyboardEvent) {\n    if (!this.items) {\n      return;\n    }\n    const key = event.code;\n    this.keyManager.onKeydown(event);\n    switch (key) {\n      case 'Home':\n        this.keyManager.setFirstItemActive();\n        break;\n      case 'End':\n        this.keyManager.setLastItemActive();\n        break;\n      case 'Enter':\n        const activeItem = this.keyManager.activeItem.item;\n        this.handleOptionClick(activeItem);\n        break;\n    }\n    this._moveHighlightedIntoView();\n  }\n\n  handleOptionClick(item: any) {\n    this.optionClick.emit(item);\n  }\n\n  private _setScrollTop(scrollPosition: number) {\n    if (this._dropdownList) {\n      this._dropdownList.nativeElement.scrollTop = scrollPosition;\n    }\n  }\n\n  private _moveHighlightedIntoView() {\n    const index = this.keyManager.activeItemIndex;\n\n    if (index === 0) {\n      this._setScrollTop(0);\n    } else if (index && index > -1) {\n      let newScrollPosition: number;\n      const optionHeight = this.optionHeight;\n      const listHeight = this._dropdownList.nativeElement.clientHeight;\n\n      const itemTop = index * optionHeight;\n      const itemBottom = itemTop + optionHeight;\n\n      const viewTop = this._dropdownList.nativeElement.scrollTop;\n      const viewBottom = viewTop + listHeight;\n      if (itemBottom > viewBottom) {\n        newScrollPosition = itemBottom - listHeight;\n        this._setScrollTop(newScrollPosition);\n      } else if (itemTop < viewTop) {\n        newScrollPosition = itemTop;\n        this._setScrollTop(newScrollPosition);\n      }\n    }\n  }\n}\n","<div [@dropdownContainerAnimation] class=\"mention-dropdown-container\" >\n    <div [@dropdownAnimation] role=\"listbox\" class=\"mention-dropdown\">\n      <ul class=\"mention-items-list\" #dropdownList\n        [ngStyle]=\"{'max-height': optionHeight * visibleItems + 'px'}\">\n        <mention-item\n        *ngFor=\"let item of items\"\n        [mentionValue]=\"mentionValue\"\n        [showImg]=\"showImg\"\n        [queryBy]=\"queryBy\"\n        [optionHeight]=\"optionHeight\"\n        [item]=\"item\"\n        (click)=\"handleOptionClick(item)\"></mention-item>\n        <li\n        *ngIf=\"(items.length === 0 && showNoResultText) || asyncError\"\n        [ngStyle]=\"{'min-height': optionHeight + 'px'}\"\n        class=\"mention-result\">\n        {{ noResultText }}\n      </li>\n      </ul>\n    </div>\n  </div>","import {\n  BooleanInput,\n  coerceBooleanProperty,\n  coerceNumberProperty,\n  NumberInput,\n} from '@angular/cdk/coercion';\nimport {\n  ConnectedPosition,\n  Overlay,\n  OverlayConfig,\n  OverlayPositionBuilder,\n  OverlayRef,\n} from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport {\n  ComponentRef,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n  Renderer2,\n} from '@angular/core';\nimport { Observable, Subject, fromEvent } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { MdbMentionComponent } from './mention.component';\n\nexport interface MdbMentionChange {\n  trigger: string;\n  searchTerm: string;\n}\n\nexport interface MdbMentionQuery {}\n@Directive({\n  // eslint-disable-next-line @angular-eslint/directive-selector\n  selector: 'input[mdbMention], textarea[mdbMention]',\n  exportAs: 'mdbMention',\n})\nexport class MdbMentionDirective implements OnInit, OnDestroy {\n  private _overlayRef: OverlayRef | null = null;\n\n  @Input() placement: 'top' | 'bottom' | 'left' | 'right' = 'bottom';\n  @Input() trigger: string | string[] = '@';\n  @Input()\n  get outputKey(): string {\n    return this._outputKey;\n  }\n  set outputKey(value: string) {\n    this._outputKey = value;\n  }\n  private _outputKey = '';\n\n  @Input()\n  get visibleItems(): number {\n    return this._visibleItems;\n  }\n  set visibleItems(value: NumberInput) {\n    this._visibleItems = coerceNumberProperty(value);\n\n    if (this._mentionRef) {\n      this._mentionRef.instance.visibleItems = this._visibleItems;\n    }\n  }\n  private _visibleItems = 5;\n\n  @Input()\n  get disableFilter(): boolean {\n    return this._disableFilter;\n  }\n  set disableFilter(value: BooleanInput) {\n    this._disableFilter = coerceBooleanProperty(value);\n  }\n  private _disableFilter = false;\n\n  @Input()\n  get showListOnTrigger(): boolean {\n    return this._showListOnTrigger;\n  }\n  set showListOnTrigger(value: BooleanInput) {\n    this._showListOnTrigger = coerceBooleanProperty(value);\n  }\n  private _showListOnTrigger = true;\n\n  @Input()\n  get asyncError(): boolean {\n    return this._asyncError;\n  }\n  set asyncError(value: BooleanInput) {\n    this._asyncError = coerceBooleanProperty(value);\n\n    if (this._mentionRef) {\n      this._mentionRef.instance.asyncError = this._asyncError;\n    }\n  }\n  private _asyncError = false;\n\n  @Input()\n  get showImg(): boolean {\n    return this._showImg;\n  }\n  set showImg(value: BooleanInput) {\n    this._showImg = coerceBooleanProperty(value);\n\n    if (this._mentionRef) {\n      this._mentionRef.instance.showImg = this._showImg;\n    }\n  }\n  private _showImg = false;\n\n  @Input()\n  get noResultText(): string {\n    return this._noResultText;\n  }\n  set noResultText(value: string) {\n    this._noResultText = value;\n\n    if (this._mentionRef) {\n      this._mentionRef.instance.noResultText = value;\n    }\n  }\n  private _noResultText = 'No result found';\n\n  @Input()\n  get items(): any[] {\n    return this._items;\n  }\n  set items(value: any[]) {\n    this._items = value ? value : [];\n\n    if (this._mentionRef) {\n      this._mentionRef.instance.items = this._items;\n    }\n  }\n  private _items: any[] = [];\n\n  @Input()\n  get queryBy(): string {\n    return this._queryBy;\n  }\n  set queryBy(value: string) {\n    this._queryBy = value;\n\n    if (this._mentionRef) {\n      this._mentionRef.instance.queryBy = this._queryBy;\n    }\n  }\n  private _queryBy = 'username';\n\n  @Input()\n  get showNoResultText(): boolean {\n    return this._showNoResultText;\n  }\n  set showNoResultText(value: BooleanInput) {\n    this._showNoResultText = coerceBooleanProperty(value);\n\n    if (this._mentionRef) {\n      this._mentionRef.instance.showNoResultText = this._showNoResultText;\n    }\n  }\n  private _showNoResultText = true;\n\n  @Output() readonly mentionChange: EventEmitter<MdbMentionChange> = new EventEmitter();\n  @Output() readonly mentionClose: EventEmitter<void> = new EventEmitter();\n  @Output() readonly mentionOpen: EventEmitter<void> = new EventEmitter();\n  @Output() readonly mentionSelect: EventEmitter<any> = new EventEmitter();\n\n  private _mentionRef: ComponentRef<MdbMentionComponent> | null = null;\n  private _open = false;\n  private _caretPositionIndex = 0;\n  private _isTriggerValid = false;\n  private _presentTrigger = '';\n\n  mentionValue = '';\n\n  private readonly _destroy$: Subject<void> = new Subject<void>();\n\n  constructor(\n    private _overlay: Overlay,\n    private _overlayPositionBuilder: OverlayPositionBuilder,\n    private _elementRef: ElementRef,\n    private _renderer: Renderer2\n  ) {}\n\n  ngOnInit(): void {\n    this._renderer.setAttribute(this._elementRef.nativeElement, 'autocomplete', 'off');\n    this._bindTriggerEvents();\n  }\n\n  private _getPosition(): ConnectedPosition[] {\n    let position;\n\n    const positionTop = {\n      originX: 'start',\n      originY: 'top',\n      overlayX: 'start',\n      overlayY: 'bottom',\n      offsetY: 0,\n    };\n\n    const positionBottom = {\n      originX: 'start',\n      originY: 'bottom',\n      overlayX: 'start',\n      overlayY: 'top',\n      offsetY: 0,\n    };\n\n    const positionRight = {\n      originX: 'end',\n      originY: 'center',\n      overlayX: 'start',\n      overlayY: 'center',\n      offsetX: 0,\n    };\n\n    const positionLeft = {\n      originX: 'start',\n      originY: 'center',\n      overlayX: 'end',\n      overlayY: 'center',\n      offsetX: 0,\n    };\n\n    switch (this.placement) {\n      case 'top':\n        position = [positionTop, positionBottom];\n        break;\n      case 'bottom':\n        position = [positionBottom, positionTop];\n        break;\n      case 'left':\n        position = [positionLeft, positionRight];\n        break;\n      case 'right':\n        position = [positionRight, positionLeft];\n        break;\n      default:\n        position = [positionBottom, positionTop];\n        break;\n    }\n\n    return position;\n  }\n\n  private _createOverlayConfig(): OverlayConfig {\n    const positionStrategy = this._overlayPositionBuilder\n      .flexibleConnectedTo(this._elementRef)\n      .withPositions(this._getPosition());\n    const overlayConfig = new OverlayConfig({\n      width: this._elementRef.nativeElement.offsetWidth,\n      hasBackdrop: false,\n      scrollStrategy: this._overlay.scrollStrategies.reposition(),\n      positionStrategy,\n    });\n\n    return overlayConfig;\n  }\n\n  private _createOverlay(): void {\n    this._overlayRef = this._overlay.create(this._createOverlayConfig());\n  }\n\n  private _listenToOutSideClick(\n    overlayRef: OverlayRef,\n    origin: HTMLElement\n  ): Observable<MouseEvent> {\n    return fromEvent(document, 'click').pipe(\n      filter((event: MouseEvent) => {\n        const target = event.target as HTMLElement;\n        const notOrigin = target !== origin;\n        const notOverlay = !!overlayRef && overlayRef.overlayElement.contains(target) === false;\n        return notOrigin && notOverlay;\n      }),\n      takeUntil(overlayRef.detachments())\n    );\n  }\n\n  private _handleOptionClick(item: any) {\n    this.mentionSelect.emit(item);\n    this._setHostValue(item);\n    this.close();\n  }\n\n  private _setDataForDropdown() {\n    let filtereditems: any[];\n\n    if (!this._disableFilter) {\n      filtereditems = this._filter(this.mentionValue);\n      this._mentionRef.instance.items = filtereditems ? filtereditems : this._items;\n    }\n    this._mentionRef.instance.mentionValue = this.mentionValue;\n  }\n\n  private _updateMentionString(caretPositionIndex: number): void {\n    const hostValueBeforeCaret = this._elementRef.nativeElement.value.slice(0, caretPositionIndex);\n    const triggers = [...this.trigger];\n\n    if (!this._caretPositionIndex) {\n      this.mentionValue = '';\n      this._isTriggerValid = false;\n      return;\n    }\n\n    for (let i = hostValueBeforeCaret.length - 1; i >= 0; i--) {\n      if (hostValueBeforeCaret.charAt(i) === ' ') {\n        this.mentionValue = '';\n        this._isTriggerValid = false;\n        return;\n      }\n      if (triggers.some((trigger) => trigger === hostValueBeforeCaret.charAt(i))) {\n        if (hostValueBeforeCaret.charAt(i - 1) !== ' ' && i > 1) {\n          return;\n        }\n\n        const trigger = hostValueBeforeCaret.charAt(i);\n        const hostValueAfterTrigger = this._elementRef.nativeElement.value.slice(i);\n        const mentionValues = hostValueAfterTrigger.split(' ')[0];\n        const mentionValue = mentionValues.split(trigger)[1] ? mentionValues.split(trigger)[1] : '';\n        this.mentionValue = mentionValue;\n        this._isTriggerValid = true;\n        this._presentTrigger = trigger;\n\n        this.mentionChange.emit({\n          trigger: trigger,\n          searchTerm: this.mentionValue,\n        });\n        return;\n      }\n    }\n  }\n\n  private _toggleDropdown() {\n    if (!this._open && this._isTriggerValid) {\n      if (!this._showListOnTrigger && this.mentionValue.length < 1) {\n        return;\n      }\n      this.open();\n      this._mentionRef.instance.queryBy = this.queryBy;\n      this._mentionRef.instance.noResultText = this._noResultText;\n      this._mentionRef.instance.showNoResultText = this._showNoResultText;\n      this._mentionRef.instance.asyncError = this._asyncError;\n      this._mentionRef.instance.showImg = this._showImg;\n      this._mentionRef.instance.visibleItems = this._visibleItems;\n\n      return;\n    }\n    if (!this._isTriggerValid) {\n      this.close();\n    }\n  }\n\n  private _handleDropdownByCaret(event: Event): void {\n    const target = event.target as HTMLInputElement;\n    this._caretPositionIndex = target.selectionStart;\n    this._updateMentionString(this._caretPositionIndex);\n\n    this._toggleDropdown();\n    if (!this._open) {\n      return;\n    }\n\n    this._setDataForDropdown();\n  }\n\n  private _bindTriggerEvents(): void {\n    fromEvent(this._elementRef.nativeElement, 'click')\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((event: Event) => {\n        this._handleDropdownByCaret(event);\n      });\n\n    fromEvent(this._elementRef.nativeElement, 'keydown')\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((event: KeyboardEvent) => {\n        const { key } = event;\n\n        const isKeyEscape = key === 'Escape';\n        const isKeyResponsibleForTabout = key === 'Tab';\n        const isKeyResponsibleForDropdownNavigation =\n          ['ArrowUp', 'ArrowDown', 'Escape', 'Home', 'End', 'Enter'].indexOf(key) > -1;\n        if (isKeyResponsibleForDropdownNavigation) {\n          if (isKeyEscape) {\n            this.close();\n          }\n          event.preventDefault();\n          return;\n        }\n\n        if (isKeyResponsibleForTabout) {\n          return;\n        }\n\n        setTimeout(() => {\n          this._handleDropdownByCaret(event);\n        }, 0);\n      });\n  }\n\n  private _setHostValue(value: any): void {\n    const hostValueBeforeCaret = this._elementRef.nativeElement.value.slice(\n      0,\n      this._caretPositionIndex\n    );\n    for (let i = hostValueBeforeCaret.length - 1; i >= 0; i--) {\n      if (hostValueBeforeCaret.charAt(i) === ' ') {\n        return;\n      }\n      if (hostValueBeforeCaret.charAt(i) === this._presentTrigger) {\n        const hostValueBeforeTrigger = this._elementRef.nativeElement.value.slice(0, i);\n        const hostValueAfterTrigger = this._elementRef.nativeElement.value.slice(i);\n        const hostNewValueAfterTrigger = hostValueAfterTrigger.split(' ')[1]\n          ? hostValueAfterTrigger.split(' ').splice(1).join(' ')\n          : '';\n        this._elementRef.nativeElement.value = hostValueBeforeTrigger.concat(\n          this._presentTrigger,\n          value[this._outputKey ? this._outputKey : this._queryBy],\n          ' ',\n          hostNewValueAfterTrigger\n        );\n      }\n    }\n  }\n\n  private _filter(value: string): any[] {\n    const filterValue = value.toLowerCase();\n    const filtereditems = this._items.filter((item: any) =>\n      item[this._queryBy].toLowerCase().includes(filterValue)\n    );\n    return filtereditems;\n  }\n\n  open(): void {\n    if (this._open) {\n      return;\n    }\n\n    if (!this._overlayRef) {\n      this._createOverlay();\n    }\n\n    if (this._overlayRef.hasAttached()) {\n      this._overlayRef.detach();\n    }\n\n    const mentionPortal = new ComponentPortal(MdbMentionComponent);\n    this._mentionRef = this._overlayRef.attach(mentionPortal);\n    this._open = true;\n\n    this._mentionRef.instance.optionClick.subscribe((item) => {\n      this._handleOptionClick(item);\n    });\n\n    this._mentionRef.instance.tabout.subscribe(() => {\n      this.close();\n    });\n\n    this._listenToOutSideClick(this._overlayRef, this._elementRef.nativeElement).subscribe(() =>\n      this.close()\n    );\n    this.mentionOpen.emit();\n  }\n\n  close(): void {\n    if (this._overlayRef) {\n      if (this._overlayRef.hasAttached()) {\n        this._overlayRef.detach();\n      }\n    }\n\n    if (this._open) {\n      this._open = false;\n    }\n\n    this.mentionClose.emit();\n  }\n\n  ngOnDestroy() {\n    this._destroy$.next();\n    this._destroy$.complete();\n\n    if (this._overlayRef) {\n      this.close();\n      this._overlayRef.dispose();\n      this._overlayRef = null;\n    }\n  }\n}\n","import { OverlayModule } from '@angular/cdk/overlay';\nimport { NgModule } from '@angular/core';\nimport { MdbMentionItemComponent } from './mention-item.component';\nimport { MdbMentionComponent } from './mention.component';\nimport { MdbMentionDirective } from './mention.directive';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  declarations: [MdbMentionComponent, MdbMentionDirective, MdbMentionItemComponent],\n  imports: [OverlayModule, CommonModule],\n  exports: [MdbMentionComponent, MdbMentionDirective, MdbMentionItemComponent],\n})\nexport class MdbMentionModule {}\n","/*\n * Public API Surface of mdb-angular-mention\n */\n\nexport { MdbMentionModule } from './lib/mention.module';\nexport { MdbMentionDirective, MdbMentionChange, MdbMentionQuery } from './lib/mention.directive';\nexport { MdbMentionComponent } from './lib/mention.component';\nexport { MdbMentionItemComponent } from './lib/mention-item.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1"],"mappings":"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"}