import { TemplatePortal } from '@angular/cdk/portal';
import { Component, EventEmitter, Input, Output, TemplateRef, ViewChild, } from '@angular/core';
import { fromEvent } from 'rxjs';
import { takeUntil } from 'rxjs/operators';
import { maps } from './maps';
import { Pinch } from './pinch';
import { getDisplacement, getElementCenter, getEventCoordinates, getVector, parseToHTML, } from './utilts';
import * as i0 from "@angular/core";
import * as i1 from "@angular/cdk/overlay";
import * as i2 from "@angular/common";
import * as i3 from "mdb-angular-ui-kit/tooltip";
const TOOLTIP_OFFSET_X = -25;
const TOOLTIP_OFFSET_Y = 20;
export class MdbVectorMapComponent {
    constructor(_elementRef, _overlay, _vcr, _zone) {
        this._elementRef = _elementRef;
        this._overlay = _overlay;
        this._vcr = _vcr;
        this._zone = _zone;
        this.btnClass = 'btn-dark';
        this._colorMap = [];
        this.fill = '#E0E0E0';
        this.fillOpacity = 1;
        this.hover = true;
        this.hoverFill = '#BDBDBD';
        this._map = 'world';
        this._markers = [];
        this.markerFill = '#757575';
        this.markerStroke = '#000';
        this.markerInnerFill = 'rgba(0, 0, 0, 0.3)';
        this.markerStrokeWidth = 1.2;
        this.readonly = false;
        this.scale = 1;
        this.selectFill = '#B23CFD';
        this.selectRegion = null;
        this.stroke = '#000';
        this.strokeLinejoin = 'round';
        this.strokeOpacity = 1;
        this.strokeWidth = 0.5;
        this.tooltips = true;
        this.zoomEvents = true;
        this.zoomMin = 1;
        this.zoomStep = 0.5;
        this.selected = new EventEmitter();
        this.markerClick = new EventEmitter();
        this._mapViewBox = null;
        this._componentInitialized = false;
        this._origin = { x: 0, y: 0 };
        this._x = 0;
        this._y = 0;
        this._prevPosition = null;
        this._mouseDownHandler = this._handleDragStart.bind(this);
        this._mouseMoveHandler = this._handleDragMove.bind(this);
        this._mouseEndHandler = this._handleDragEnd.bind(this);
        this._touchStartHandler = this._handleTouchStart.bind(this);
        this._touchMoveHandler = this._handleTouchMove.bind(this);
        this._touchEndHandler = this._handleTouchEnd.bind(this);
        this._wheelEventSubscription = null;
        this._pinchEventSubscription = null;
        this._zoomInButtonDisabled = false;
        this._zoomOutButtonDisabled = false;
        this._pins = [];
        this._bullets = [];
        this._overlayRef = null;
        this._currentTooltipTitle = '';
        this._currentTooltipContent = '';
    }
    get colorMap() {
        return this._colorMap;
    }
    set colorMap(colorMap) {
        this._colorMap = colorMap;
        if (this._componentInitialized) {
            this._setupUnitsParameters();
        }
    }
    get map() {
        return this._map;
    }
    set map(value) {
        this._map = value;
        if (this._componentInitialized) {
            this._updateMap();
        }
    }
    get markers() {
        return this._markers;
    }
    set markers(value) {
        this._markers = value;
        if (this._componentInitialized) {
            this._setupMarkers();
        }
    }
    get _dragging() {
        return this._prevPosition !== null;
    }
    ngOnInit() {
        this._componentInitialized = true;
        this._initMap();
        if (this.selectedRegion) {
            this.select(this.selectedRegion);
        }
    }
    _setupDragEvents() {
        this.svgElement.nativeElement.addEventListener('mousedown', this._mouseDownHandler);
        document.addEventListener('mouseup', this._mouseEndHandler);
        this.svgElement.nativeElement.addEventListener('touchstart', this._touchStartHandler);
        document.addEventListener('touchend', this._touchEndHandler);
    }
    _initMap() {
        this._scale = this.scale;
        if (!this.customMapContent) {
            this._renderMap(this.map);
        }
        else {
            this.mapContentTemplate.nativeElement.innerHTML = this.customMapContent.innerHTML;
            this.customMapContent.parentNode.removeChild(this.customMapContent);
        }
        this._cacheRectPositions();
        this._mapUnits = this._getMapUnits();
        this._setupUnitsParameters();
        this._setupUnitsEvents();
        this._setupMapPosition();
        this._setupMarkers();
        this._toggleZoomBtns();
        if (this.zoomEvents) {
            this._pinch = new Pinch(this.svgElement.nativeElement);
            this._pinch.init();
            this._setupWheelEvent();
            this._setupPinchEvent();
        }
        this._setupDragEvents();
    }
    _updateMap() {
        this._removeEvents();
        if (this.mapContentTemplate) {
            // this.mapContentTemplate.nativeElement.innerHTML = '';
        }
        this._initMap();
    }
    _renderMap(name) {
        const map = maps[name];
        if (!map) {
            throw new TypeError(`Map "${name}" is not available`);
        }
        const mapNode = parseToHTML(map).querySelector('svg');
        this._mapViewBox = mapNode.getAttribute('viewBox');
        this.mapContentTemplate.nativeElement.innerHTML = mapNode.innerHTML;
    }
    _cacheRectPositions() {
        this._elementRect = this.wrapper.nativeElement.getBoundingClientRect();
        this._mapRect = this.svgElement.nativeElement.getBoundingClientRect();
    }
    _getMapUnits() {
        return Array.from(this.svgElement.nativeElement.querySelectorAll('path')).map((path) => {
            const id = path.getAttribute('id');
            const title = path.getAttribute('title') || path.getAttribute('name');
            const d = path.getAttribute('d');
            const fill = path.getAttribute('fill');
            return {
                element: path,
                d,
                id,
                title,
                fill,
                selected: false,
                tooltip: '',
            };
        });
    }
    _setupUnitsParameters() {
        this._mapUnits.forEach((unit) => {
            unit.fill = null;
            unit.element.removeAttribute('fill');
        });
        if (!this.colorMap.length) {
            return;
        }
        this.colorMap.forEach((map) => {
            map.regions.forEach((region) => {
                const tooltip = region.tooltip || '';
                const unit = this._mapUnits.find((unit) => {
                    if (typeof region === 'string') {
                        return unit.id === region;
                    }
                    return unit.id === region.id;
                });
                if (!unit) {
                    return;
                }
                unit.fill = map.fill;
                unit.tooltip = tooltip;
                if (!unit.selected) {
                    unit.element.setAttribute('fill', unit.fill);
                }
            });
        });
    }
    _setupUnitsEvents() {
        this._mapUnits.forEach((unit) => {
            if (!this.readonly) {
                unit.element.addEventListener('click', () => this._handleUnitSelection(unit));
            }
            if (this.hover || this.tooltips) {
                unit.element.addEventListener('mouseover', (event) => this._handleUnitMouseover(event, unit));
                unit.element.addEventListener('mouseout', () => this._handleUnitMouseout(unit));
            }
        });
    }
    _setupMapPosition() {
        this._origin = getElementCenter(this._mapRect);
        this._updateTransformOrigin();
        this._setInitialMapPosition();
        this._updateMapTransform();
    }
    _setupMarkers() {
        const pins = [];
        const bullets = [];
        this.markers.forEach((marker) => {
            if (marker.type === 'pin') {
                const pin = this._getPin(marker);
                pins.push(pin);
            }
            if (marker.type === 'bullet') {
                const bullet = this._getBullet(marker);
                bullets.push(bullet);
            }
        });
        this._pins = [...pins];
        this._bullets = [...bullets];
    }
    _getPin(pin) {
        const innerRadius = (14 / this._scale) * 0.5;
        return {
            label: pin.label,
            x: pin.x,
            y: pin.y,
            d: this._getPinPath(pin.x, pin.y),
            radius: innerRadius / 2,
            innerRadius: innerRadius,
            innerY: pin.y - 54 / 2,
            circleFill: 'rgba(0, 0, 0, 0.2)',
            strokeWidth: pin.strokeWidth || this.strokeWidth,
            fill: pin.fill || this.markerFill,
            innerFill: pin.innerFill || this.markerInnerFill,
        };
    }
    _getPinPath(x, y) {
        const height = 40;
        const radius = 14;
        const dyAC = height - radius;
        const alpha = Math.acos(radius / dyAC);
        const deltaX = radius * Math.sin(alpha);
        const deltaY = (height * (height - radius * 2)) / dyAC;
        return `M ${x},${y} l ${-deltaX},${-deltaY} A ${radius} ${radius} 1 1 1 ${x + deltaX},${y - deltaY} l 0,0 z`;
    }
    _getBullet(bullet) {
        const radius = bullet.radius || 5;
        return {
            label: bullet.label,
            radius: radius,
            strokeWidth: 0,
            fill: bullet.fill,
            x: bullet.x,
            y: bullet.y,
            opacity: 0.3,
            innerOpacity: 1,
        };
    }
    _setupWheelEvent() {
        this._zone.runOutsideAngular(() => {
            fromEvent(this._elementRef.nativeElement, 'wheel').subscribe((event) => {
                event.preventDefault();
                const mousePosition = getEventCoordinates(event);
                const direction = event.deltaY < 0 ? 1 : -1;
                const factor = direction * this.zoomStep;
                if (!this._allowZoom(factor)) {
                    return;
                }
                this._origin = this._getOrigin(mousePosition);
                this._updateTransformOrigin();
                this._setInitialMapPosition();
                this._updateMapTransform();
                this._zone.run(() => {
                    this._zoom(factor);
                });
            });
        });
    }
    _setupPinchEvent() {
        fromEvent(this._elementRef.nativeElement, 'pinch').subscribe((event) => {
            event.preventDefault();
            const factor = this._scale * (event.ratio - 1);
            if (!this._allowZoom(factor)) {
                return;
            }
            this._origin = this._getOrigin(event.origin);
            this._updateTransformOrigin();
            this._setInitialMapPosition();
            this._updateMapTransform();
            this._zoom(factor);
        });
    }
    _handlePinch(event) {
        const factor = this._scale * (event.overallVelocity + 1);
        if (!this._allowZoom(factor)) {
            return;
        }
        this._origin = this._getOrigin(event.target);
        this._updateTransformOrigin();
        this._setInitialMapPosition();
        this._updateMapTransform();
        this._zoom(factor);
    }
    _allowZoom(factor) {
        return (!(this._scale === this.zoomMax && factor > 0) && !(this._scale === this.zoomMin && factor < 0));
    }
    _getOrigin(point) {
        const rect = this.svgElement.nativeElement.getBoundingClientRect();
        const position = {
            x: (point.x - rect.x) / this._scale,
            y: (point.y - rect.y) / this._scale,
        };
        const dx = (position.x - this._origin.x - this._x) / this._scale;
        const dy = (position.y - this._origin.y - this._y) / this._scale;
        const origin = {
            x: this._origin.x + dx,
            y: this._origin.y + dy,
        };
        return origin;
    }
    _updateTransformOrigin() {
        this.svgElement.nativeElement.style.transformOrigin = `${this._origin.x}px ${this._origin.y}px`;
    }
    _updateMapTransform() {
        this.svgElement.nativeElement.style.transform = `matrix(${this._scale}, 0, 0, ${this._scale}, ${this._x}, ${this._y})`;
    }
    _zoom(factor) {
        const value = this._scale + factor;
        if (value <= this.zoomMin) {
            this._scale = this.zoomMin;
            this._origin = this._getValueInMapBoundry(getElementCenter(this._elementRect));
            this._updateTransformOrigin();
            this._updateMapTransform();
            this._setInitialMapPosition();
        }
        else if (this.zoomMax !== null && value >= this.zoomMax) {
            this._scale = this.zoomMax;
        }
        else {
            this._scale = value;
        }
        this._toggleZoomBtns();
        this._updateMapTransform();
        // this._updateMarkers();
        this.svgElement.nativeElement.style.strokeWidth = this.strokeWidth / this._scale;
    }
    _getValueInMapBoundry({ x, y }) {
        this._cacheRectPositions();
        const margins = this._getMapMargins();
        let xPosition = this._x;
        let yPosition = this._y;
        if ((x < 0 && margins.right > 0) || (x > 0 && margins.left > 0)) {
            xPosition += x;
        }
        if ((y > 0 && margins.top > 0) || (y < 0 && margins.bottom > 0)) {
            yPosition += y;
        }
        return {
            x: xPosition,
            y: yPosition,
        };
    }
    _getMapMargins() {
        return {
            left: this._elementRect.left - this._mapRect.left,
            top: this._elementRect.top - this._mapRect.top,
            right: this._mapRect.right - this._elementRect.right,
            bottom: this._mapRect.bottom - this._elementRect.bottom,
        };
    }
    select(region) {
        const correspondingUnit = this._mapUnits.find((unit) => unit.id === region);
        if (correspondingUnit) {
            this._selectUnit(correspondingUnit);
        }
    }
    _setInitialMapPosition() {
        this._x = 0;
        this._y = 0;
    }
    _toggleZoomBtns() {
        if (this._scale === this.zoomMin) {
            this._zoomOutButtonDisabled = true;
        }
        else {
            this._zoomOutButtonDisabled = false;
        }
        if (this._scale === this.zoomMax) {
            this._zoomInButtonDisabled = true;
        }
        else {
            this._zoomInButtonDisabled = false;
        }
    }
    _selectUnit(unit) {
        const selection = this._currentSelectedUnit;
        if (selection) {
            selection.selected = false;
            if (selection.fill) {
                selection.element.setAttribute('fill', selection.fill);
            }
            else {
                selection.element.removeAttribute('fill');
            }
        }
        unit.selected = true;
        unit.element.setAttribute('fill', this.selectFill);
        this._currentSelectedUnit = unit;
    }
    _handleUnitSelection(unit) {
        this._selectUnit(unit);
        this.selected.emit(unit);
    }
    _handleUnitMouseover(event, unit) {
        if (this._dragging) {
            return;
        }
        if (this.hover) {
            unit.element.setAttribute('fill', this.hoverFill);
        }
        if (this.tooltips) {
            this._currentTooltipTitle = unit.title;
            this._currentTooltipContent = unit.tooltip !== '' ? unit.tooltip : null;
            this._showUnitTooltip(event, unit);
        }
    }
    _handleUnitMouseout(unit) {
        if (this.hover) {
            if (unit.selected) {
                unit.element.setAttribute('fill', this.selectFill);
            }
            else if (unit.fill) {
                unit.element.setAttribute('fill', unit.fill);
            }
            else {
                unit.element.removeAttribute('fill');
            }
        }
        if (this.tooltips) {
            this._hideUnitTooltip();
        }
    }
    _showUnitTooltip(event, unit) {
        if (this._overlayRef) {
            this._overlayRef.dispose();
            this._overlayRef = null;
        }
        this._portal = new TemplatePortal(this.tooltipTemplate, this._vcr);
        this._overlayRef = this._overlay.create({
            positionStrategy: this._getOverlayPosition(event),
            panelClass: 'vector-map-pane',
        });
        this._overlayRef.attach(this._portal);
        const ref = this._overlayRef;
        this._zone.runOutsideAngular(() => {
            fromEvent(unit.element, 'mousemove')
                .pipe(takeUntil(ref.detachments()))
                .subscribe((event) => {
                const positionStrategy = this._overlay
                    .position()
                    .global()
                    .left(event.clientX + TOOLTIP_OFFSET_X + 'px')
                    .top(event.clientY + TOOLTIP_OFFSET_Y + 'px');
                this._overlayRef.updatePositionStrategy(positionStrategy);
            });
        });
    }
    _hideUnitTooltip() {
        if (this._overlayRef) {
            this._overlayRef.detach();
            this._overlayRef.dispose();
            this._overlayRef = null;
        }
    }
    _getOverlayPosition(event) {
        const x = event.clientX + 'px';
        const y = event.clientY + 'px';
        const positionStrategy = this._overlay.position().global().left(x).top(y);
        return positionStrategy;
    }
    _handleDragStart(event) {
        if ((event.touches && event.touches.length > 1) || event.button === 2) {
            return;
        }
        this._prevPosition = getEventCoordinates(event);
        this.wrapper.nativeElement.classList.add('dragged');
        this._zone.runOutsideAngular(() => {
            document.addEventListener('mousemove', this._mouseMoveHandler);
        });
    }
    _handleDragMove(event) {
        if (event.touches && event.touches.length > 1) {
            return;
        }
        if (!this._prevPosition) {
            return;
        }
        event.preventDefault();
        const mousePosition = getEventCoordinates(event);
        const displacement = this._getValueInMapBoundry(getDisplacement(mousePosition, this._prevPosition));
        this._x = displacement.x;
        this._y = displacement.y;
        this._prevPosition = mousePosition;
        this._updateMapTransform();
        // this._updateMarkerTooltips();
    }
    _handleDragEnd() {
        this._prevPosition = null;
        this.wrapper.nativeElement.classList.remove('dragged');
    }
    _handleTouchStart(event) {
        if (event.touches.length > 1) {
            this._vector = getVector(event);
            this._origin = { ...this._vector.center };
            this._updateTransformOrigin();
            return;
        }
        this._handleDragStart(event);
        this.svgElement.nativeElement.addEventListener('touchmove', this._touchMoveHandler);
    }
    _handleTouchMove(event) {
        if (event.touches.length > 1 && this._vector) {
            event.preventDefault();
            event.stopPropagation();
            const vector = getVector(event);
            const ratio = vector.length / this._vector.length;
            const scaleFactor = this._scale * (ratio - 1);
            this._zoom(scaleFactor);
            this._vector = vector;
            return;
        }
        this._handleDragMove(event);
    }
    _handleTouchEnd(event) {
        if (event.touches.length > 1) {
            this._vector = null;
            return;
        }
        this._handleDragEnd();
    }
    ngOnDestroy() {
        this._removeEvents();
        if (this._pinch) {
            this._pinch.dispose();
        }
        if (this._overlayRef) {
            this._overlayRef.detach();
            this._overlayRef.dispose();
            this._overlayRef = null;
        }
    }
    _removeEvents() {
        if (this.svgElement) {
            this.svgElement.nativeElement.removeEventListener('mousedown', this._mouseDownHandler);
            document.removeEventListener('mousemove', this._mouseMoveHandler);
            document.removeEventListener('mouseup', this._mouseEndHandler);
            this.svgElement.nativeElement.removeEventListener('touchstart', this._touchStartHandler);
            document.removeEventListener('touchmove', this._touchMoveHandler);
            document.removeEventListener('touchend', this._touchEndHandler);
        }
        if (this._wheelEventSubscription) {
            this._wheelEventSubscription.unsubscribe();
        }
        if (this._pinchEventSubscription) {
            this._pinchEventSubscription.unsubscribe();
        }
    }
    _getAnimateValue(radius) {
        return `${radius / this._scale}; ${(radius / this._scale) * 5}; ${radius / this._scale}`;
    }
    _emitMarkerClick(type, x, y, label) {
        this.markerClick.emit({
            type: type,
            x: x,
            y: y,
            label: label,
        });
    }
}
MdbVectorMapComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: MdbVectorMapComponent, deps: [{ token: i0.ElementRef }, { token: i1.Overlay }, { token: i0.ViewContainerRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });
MdbVectorMapComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.2.3", type: MdbVectorMapComponent, selector: "mdb-vector-map", inputs: { btnClass: "btnClass", colorMap: "colorMap", customMapContent: "customMapContent", viewBox: "viewBox", fill: "fill", fillOpacity: "fillOpacity", height: "height", hover: "hover", hoverFill: "hoverFill", map: "map", markers: "markers", markerFill: "markerFill", markerStroke: "markerStroke", markerInnerFill: "markerInnerFill", markerStrokeWidth: "markerStrokeWidth", readonly: "readonly", scale: "scale", selectFill: "selectFill", selectRegion: "selectRegion", stroke: "stroke", strokeLinejoin: "strokeLinejoin", strokeOpacity: "strokeOpacity", strokeWidth: "strokeWidth", selectedRegion: "selectedRegion", tooltips: "tooltips", width: "width", zoomEvents: "zoomEvents", zoomMax: "zoomMax", zoomMin: "zoomMin", zoomStep: "zoomStep" }, outputs: { selected: "selected", markerClick: "markerClick" }, viewQueries: [{ propertyName: "wrapper", first: true, predicate: ["wrapper"], descendants: true, static: true }, { propertyName: "svgElement", first: true, predicate: ["svgElement"], descendants: true, static: true }, { propertyName: "tooltipTemplate", first: true, predicate: ["tooltipTemplate"], descendants: true, read: TemplateRef }, { propertyName: "mapContentTemplate", first: true, predicate: ["mapContentTemplate"], descendants: true, static: true }], ngImport: i0, template: "<div #wrapper class=\"vector-map\">\n  <svg\n    [attr.viewBox]=\"_mapViewBox || viewBox\"\n    [style.fill]=\"fill\"\n    [style.fillOpacity]=\"fillOpacity\"\n    [style.stroke]=\"stroke\"\n    [style.strokeWidth]=\"strokeWidth\"\n    [style.strokeOpacity]=\"strokeOpacity\"\n    [style.strokeLinejoin]=\"strokeLinejoin\"\n    #svgElement\n  >\n    <g #mapContentTemplate></g>\n\n    <g class=\"vector-map-marker\" *ngFor=\"let pin of _pins\" [mdbTooltip]=\"pin.label\">\n      <circle\n        class=\"pin-shadow-circle\"\n        [attr.cx]=\"pin.x\"\n        [attr.cy]=\"pin.y\"\n        [attr.strokeWidth]=\"pin.strokeWidth\"\n        [attr.fill]=\"pin.circleFill\"\n        [attr.r]=\"pin.radius\"\n        (click)=\"_emitMarkerClick(pin.type, pin.x, pin.y, pin.label)\"\n      ></circle>\n      <path\n        [attr.d]=\"pin.d\"\n        [attr.fill]=\"pin.fill\"\n        [attr.stroke]=\"pin.stroke\"\n        [attr.strokeWidth]=\"pin.strokeWidth\"\n      ></path>\n      <circle\n        class=\"pin-inner-circle\"\n        [attr.cx]=\"pin.x\"\n        [attr.cy]=\"pin.innerY\"\n        [attr.stroke]=\"pin.stroke\"\n        [attr.strokeWidth]=\"pin.strokeWidth\"\n        [attr.r]=\"pin.innerRadius\"\n        [attr.fill]=\"pin.innerFill\"\n      ></circle>\n    </g>\n    <ng-container *ngFor=\"let bullet of _bullets\">\n      <circle\n        [attr.cx]=\"bullet.x\"\n        [attr.cy]=\"bullet.y\"\n        [attr.r]=\"bullet.radius / _scale\"\n        [attr.fill]=\"bullet.fill\"\n        [attr.stroke-width]=\"bullet.strokeWidth\"\n        [attr.opacity]=\"bullet.opacity\"\n        class=\"animated-circle\"\n      >\n        <animate\n          [attr.attributeName]=\"'r'\"\n          [attr.values]=\"_getAnimateValue(bullet.radius)\"\n          [attr.dur]=\"'1.5s'\"\n          [attr.repeatCount]=\"'indefinite'\"\n        ></animate>\n        <animate\n          [attr.attributeName]=\"'opacity'\"\n          [attr.values]=\"'0;0.3;0'\"\n          [attr.dur]=\"'1.5s'\"\n          [attr.repeatCount]=\"'indefinite'\"\n        ></animate>\n      </circle>\n      <circle\n        [mdbTooltip]=\"bullet.label\"\n        [attr.cx]=\"bullet.x\"\n        [attr.cy]=\"bullet.y\"\n        [attr.r]=\"bullet.radius / _scale\"\n        [attr.fill]=\"bullet.fill\"\n        [attr.stroke-width]=\"bullet.strokeWidth\"\n        [attr.opacity]=\"bullet.innerOpacity\"\n        (click)=\"_emitMarkerClick(bullet.type, bullet.x, bullet.y, bullet.label)\"\n        class=\"vector-map-marker\"\n      ></circle>\n    </ng-container>\n  </svg>\n  <div class=\"vector-map-toolbar\">\n    <button\n      class=\"btn btn-floating {{ btnClass }}\"\n      [attr.aria-label]=\"'Zoom in'\"\n      style=\"min-width: 37px\"\n      [disabled]=\"_zoomInButtonDisabled\"\n      (click)=\"_zoom(zoomStep)\"\n    >\n      <i class=\"fa fa-plus\"></i>\n    </button>\n    <button\n      class=\"btn btn-floating {{ btnClass }}\"\n      [attr.aria-label]=\"'Zoom out'\"\n      style=\"min-width: 37px\"\n      [disabled]=\"_zoomOutButtonDisabled\"\n      (click)=\"_zoom(-1 * zoomStep)\"\n    >\n      <i class=\"fa fa-minus\"></i>\n    </button>\n  </div>\n\n  <ng-template #tooltipTemplate>\n    <div class=\"vector-map-tooltip\" style=\"pointer-events: none;\">\n      <strong>{{ _currentTooltipTitle }}</strong>\n      <div *ngIf=\"_currentTooltipContent\" [innerHTML]=\"_currentTooltipContent\"></div>\n    </div>\n  </ng-template>\n</div>\n", directives: [{ type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i3.MdbTooltipDirective, selector: "[mdbTooltip]", inputs: ["mdbTooltip", "tooltipDisabled", "placement", "html", "animation", "trigger", "delayShow", "delayHide", "offset"], outputs: ["tooltipShow", "tooltipShown", "tooltipHide", "tooltipHidden"], exportAs: ["mdbTooltip"] }, { type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: MdbVectorMapComponent, decorators: [{
            type: Component,
            args: [{ selector: 'mdb-vector-map', template: "<div #wrapper class=\"vector-map\">\n  <svg\n    [attr.viewBox]=\"_mapViewBox || viewBox\"\n    [style.fill]=\"fill\"\n    [style.fillOpacity]=\"fillOpacity\"\n    [style.stroke]=\"stroke\"\n    [style.strokeWidth]=\"strokeWidth\"\n    [style.strokeOpacity]=\"strokeOpacity\"\n    [style.strokeLinejoin]=\"strokeLinejoin\"\n    #svgElement\n  >\n    <g #mapContentTemplate></g>\n\n    <g class=\"vector-map-marker\" *ngFor=\"let pin of _pins\" [mdbTooltip]=\"pin.label\">\n      <circle\n        class=\"pin-shadow-circle\"\n        [attr.cx]=\"pin.x\"\n        [attr.cy]=\"pin.y\"\n        [attr.strokeWidth]=\"pin.strokeWidth\"\n        [attr.fill]=\"pin.circleFill\"\n        [attr.r]=\"pin.radius\"\n        (click)=\"_emitMarkerClick(pin.type, pin.x, pin.y, pin.label)\"\n      ></circle>\n      <path\n        [attr.d]=\"pin.d\"\n        [attr.fill]=\"pin.fill\"\n        [attr.stroke]=\"pin.stroke\"\n        [attr.strokeWidth]=\"pin.strokeWidth\"\n      ></path>\n      <circle\n        class=\"pin-inner-circle\"\n        [attr.cx]=\"pin.x\"\n        [attr.cy]=\"pin.innerY\"\n        [attr.stroke]=\"pin.stroke\"\n        [attr.strokeWidth]=\"pin.strokeWidth\"\n        [attr.r]=\"pin.innerRadius\"\n        [attr.fill]=\"pin.innerFill\"\n      ></circle>\n    </g>\n    <ng-container *ngFor=\"let bullet of _bullets\">\n      <circle\n        [attr.cx]=\"bullet.x\"\n        [attr.cy]=\"bullet.y\"\n        [attr.r]=\"bullet.radius / _scale\"\n        [attr.fill]=\"bullet.fill\"\n        [attr.stroke-width]=\"bullet.strokeWidth\"\n        [attr.opacity]=\"bullet.opacity\"\n        class=\"animated-circle\"\n      >\n        <animate\n          [attr.attributeName]=\"'r'\"\n          [attr.values]=\"_getAnimateValue(bullet.radius)\"\n          [attr.dur]=\"'1.5s'\"\n          [attr.repeatCount]=\"'indefinite'\"\n        ></animate>\n        <animate\n          [attr.attributeName]=\"'opacity'\"\n          [attr.values]=\"'0;0.3;0'\"\n          [attr.dur]=\"'1.5s'\"\n          [attr.repeatCount]=\"'indefinite'\"\n        ></animate>\n      </circle>\n      <circle\n        [mdbTooltip]=\"bullet.label\"\n        [attr.cx]=\"bullet.x\"\n        [attr.cy]=\"bullet.y\"\n        [attr.r]=\"bullet.radius / _scale\"\n        [attr.fill]=\"bullet.fill\"\n        [attr.stroke-width]=\"bullet.strokeWidth\"\n        [attr.opacity]=\"bullet.innerOpacity\"\n        (click)=\"_emitMarkerClick(bullet.type, bullet.x, bullet.y, bullet.label)\"\n        class=\"vector-map-marker\"\n      ></circle>\n    </ng-container>\n  </svg>\n  <div class=\"vector-map-toolbar\">\n    <button\n      class=\"btn btn-floating {{ btnClass }}\"\n      [attr.aria-label]=\"'Zoom in'\"\n      style=\"min-width: 37px\"\n      [disabled]=\"_zoomInButtonDisabled\"\n      (click)=\"_zoom(zoomStep)\"\n    >\n      <i class=\"fa fa-plus\"></i>\n    </button>\n    <button\n      class=\"btn btn-floating {{ btnClass }}\"\n      [attr.aria-label]=\"'Zoom out'\"\n      style=\"min-width: 37px\"\n      [disabled]=\"_zoomOutButtonDisabled\"\n      (click)=\"_zoom(-1 * zoomStep)\"\n    >\n      <i class=\"fa fa-minus\"></i>\n    </button>\n  </div>\n\n  <ng-template #tooltipTemplate>\n    <div class=\"vector-map-tooltip\" style=\"pointer-events: none;\">\n      <strong>{{ _currentTooltipTitle }}</strong>\n      <div *ngIf=\"_currentTooltipContent\" [innerHTML]=\"_currentTooltipContent\"></div>\n    </div>\n  </ng-template>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.Overlay }, { type: i0.ViewContainerRef }, { type: i0.NgZone }]; }, propDecorators: { wrapper: [{
                type: ViewChild,
                args: ['wrapper', { static: true }]
            }], svgElement: [{
                type: ViewChild,
                args: ['svgElement', { static: true }]
            }], tooltipTemplate: [{
                type: ViewChild,
                args: ['tooltipTemplate', { read: TemplateRef }]
            }], mapContentTemplate: [{
                type: ViewChild,
                args: ['mapContentTemplate', { static: true }]
            }], btnClass: [{
                type: Input
            }], colorMap: [{
                type: Input
            }], customMapContent: [{
                type: Input
            }], viewBox: [{
                type: Input
            }], fill: [{
                type: Input
            }], fillOpacity: [{
                type: Input
            }], height: [{
                type: Input
            }], hover: [{
                type: Input
            }], hoverFill: [{
                type: Input
            }], map: [{
                type: Input
            }], markers: [{
                type: Input
            }], markerFill: [{
                type: Input
            }], markerStroke: [{
                type: Input
            }], markerInnerFill: [{
                type: Input
            }], markerStrokeWidth: [{
                type: Input
            }], readonly: [{
                type: Input
            }], scale: [{
                type: Input
            }], selectFill: [{
                type: Input
            }], selectRegion: [{
                type: Input
            }], stroke: [{
                type: Input
            }], strokeLinejoin: [{
                type: Input
            }], strokeOpacity: [{
                type: Input
            }], strokeWidth: [{
                type: Input
            }], selectedRegion: [{
                type: Input
            }], tooltips: [{
                type: Input
            }], width: [{
                type: Input
            }], zoomEvents: [{
                type: Input
            }], zoomMax: [{
                type: Input
            }], zoomMin: [{
                type: Input
            }], zoomStep: [{
                type: Input
            }], selected: [{
                type: Output
            }], markerClick: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVjdG9yLW1hcC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9tZGItYW5ndWxhci12ZWN0b3ItbWFwcy9zcmMvbGliL3ZlY3Rvci1tYXAuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vcHJvamVjdHMvbWRiLWFuZ3VsYXItdmVjdG9yLW1hcHMvc3JjL2xpYi92ZWN0b3ItbWFwLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNyRCxPQUFPLEVBQ0wsU0FBUyxFQUVULFlBQVksRUFDWixLQUFLLEVBSUwsTUFBTSxFQUNOLFdBQVcsRUFDWCxTQUFTLEdBRVYsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFNBQVMsRUFBZ0IsTUFBTSxNQUFNLENBQUM7QUFDL0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDOUIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUNoQyxPQUFPLEVBQ0wsZUFBZSxFQUNmLGdCQUFnQixFQUNoQixtQkFBbUIsRUFDbkIsU0FBUyxFQUNULFdBQVcsR0FDWixNQUFNLFVBQVUsQ0FBQzs7Ozs7QUFFbEIsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUM3QixNQUFNLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztBQTZCNUIsTUFBTSxPQUFPLHFCQUFxQjtJQXVIaEMsWUFDVSxXQUF1QixFQUN2QixRQUFpQixFQUNqQixJQUFzQixFQUN0QixLQUFhO1FBSGIsZ0JBQVcsR0FBWCxXQUFXLENBQVk7UUFDdkIsYUFBUSxHQUFSLFFBQVEsQ0FBUztRQUNqQixTQUFJLEdBQUosSUFBSSxDQUFrQjtRQUN0QixVQUFLLEdBQUwsS0FBSyxDQUFR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QWYsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUVJLFFBQVE7c0JBQWpCLE1BQU07Z0JBQ0csV0FBVztzQkFBcEIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE92ZXJsYXksIE92ZXJsYXlSZWYsIFBvc2l0aW9uU3RyYXRlZ3kgfSBmcm9tICdAYW5ndWxhci9jZGsvb3ZlcmxheSc7XG5pbXBvcnQgeyBUZW1wbGF0ZVBvcnRhbCB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9wb3J0YWwnO1xuaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBOZ1pvbmUsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFRlbXBsYXRlUmVmLFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdDb250YWluZXJSZWYsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgZnJvbUV2ZW50LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHRha2VVbnRpbCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IG1hcHMgfSBmcm9tICcuL21hcHMnO1xuaW1wb3J0IHsgUGluY2ggfSBmcm9tICcuL3BpbmNoJztcbmltcG9ydCB7XG4gIGdldERpc3BsYWNlbWVudCxcbiAgZ2V0RWxlbWVudENlbnRlcixcbiAgZ2V0RXZlbnRDb29yZGluYXRlcyxcbiAgZ2V0VmVjdG9yLFxuICBwYXJzZVRvSFRNTCxcbn0gZnJvbSAnLi91dGlsdHMnO1xuXG5jb25zdCBUT09MVElQX09GRlNFVF9YID0gLTI1O1xuY29uc3QgVE9PTFRJUF9PRkZTRVRfWSA9IDIwO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1kYk1hcFVuaXQge1xuICBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgZDogc3RyaW5nO1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBmaWxsOiBzdHJpbmc7XG4gIHNlbGVjdGVkOiBib29sZWFuO1xuICB0b29sdGlwOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWRiTWFwTWFya2VyIHtcbiAgdHlwZTogJ3BpbicgfCAnYnVsbGV0JztcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHJhZGl1cz86IG51bWJlcjtcbiAgZmlsbD86IHN0cmluZztcbiAgc3Ryb2tlPzogc3RyaW5nO1xuICBzdHJva2VXaWR0aD86IHN0cmluZztcbiAgaW5uZXJGaWxsPzogc3RyaW5nO1xufVxuXG5AQ29tcG9uZW50KHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgc2VsZWN0b3I6ICdtZGItdmVjdG9yLW1hcCcsXG4gIHRlbXBsYXRlVXJsOiAnLi92ZWN0b3ItbWFwLmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgTWRiVmVjdG9yTWFwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBAVmlld0NoaWxkKCd3cmFwcGVyJywgeyBzdGF0aWM6IHRydWUgfSkgd3JhcHBlcjogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnc3ZnRWxlbWVudCcsIHsgc3RhdGljOiB0cnVlIH0pIHN2Z0VsZW1lbnQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ3Rvb2x0aXBUZW1wbGF0ZScsIHsgcmVhZDogVGVtcGxhdGVSZWYgfSkgdG9vbHRpcFRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuICBAVmlld0NoaWxkKCdtYXBDb250ZW50VGVtcGxhdGUnLCB7IHN0YXRpYzogdHJ1ZSB9KSBtYXBDb250ZW50VGVtcGxhdGU6IGFueTtcblxuICBASW5wdXQoKSBidG5DbGFzcyA9ICdidG4tZGFyayc7XG4gIEBJbnB1dCgpXG4gIGdldCBjb2xvck1hcCgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLl9jb2xvck1hcDtcbiAgfVxuICBzZXQgY29sb3JNYXAoY29sb3JNYXA6IGFueSkge1xuICAgIHRoaXMuX2NvbG9yTWFwID0gY29sb3JNYXA7XG5cbiAgICBpZiAodGhpcy5fY29tcG9uZW50SW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMuX3NldHVwVW5pdHNQYXJhbWV0ZXJzKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgX2NvbG9yTWFwOiBhbnlbXSA9IFtdO1xuICBASW5wdXQoKSBjdXN0b21NYXBDb250ZW50OiBIVE1MRWxlbWVudDtcbiAgQElucHV0KCkgdmlld0JveDogc3RyaW5nO1xuICBASW5wdXQoKSBmaWxsID0gJyNFMEUwRTAnO1xuICBASW5wdXQoKSBmaWxsT3BhY2l0eSA9IDE7XG4gIEBJbnB1dCgpIGhlaWdodDogbnVtYmVyO1xuICBASW5wdXQoKSBob3ZlciA9IHRydWU7XG4gIEBJbnB1dCgpIGhvdmVyRmlsbCA9ICcjQkRCREJEJztcblxuICBASW5wdXQoKVxuICBnZXQgbWFwKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX21hcDtcbiAgfVxuICBzZXQgbWFwKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9tYXAgPSB2YWx1ZTtcblxuICAgIGlmICh0aGlzLl9jb21wb25lbnRJbml0aWFsaXplZCkge1xuICAgICAgdGhpcy5fdXBkYXRlTWFwKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgX21hcCA9ICd3b3JsZCc7XG5cbiAgQElucHV0KClcbiAgZ2V0IG1hcmtlcnMoKTogTWRiTWFwTWFya2VyW10ge1xuICAgIHJldHVybiB0aGlzLl9tYXJrZXJzO1xuICB9XG4gIHNldCBtYXJrZXJzKHZhbHVlOiBNZGJNYXBNYXJrZXJbXSkge1xuICAgIHRoaXMuX21hcmtlcnMgPSB2YWx1ZTtcblxuICAgIGlmICh0aGlzLl9jb21wb25lbnRJbml0aWFsaXplZCkge1xuICAgICAgdGhpcy5fc2V0dXBNYXJrZXJzKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgX21hcmtlcnM6IE1kYk1hcE1hcmtlcltdID0gW107XG4gIEBJbnB1dCgpIG1hcmtlckZpbGwgPSAnIzc1NzU3NSc7XG4gIEBJbnB1dCgpIG1hcmtlclN0cm9rZSA9ICcjMDAwJztcbiAgQElucHV0KCkgbWFya2VySW5uZXJGaWxsID0gJ3JnYmEoMCwgMCwgMCwgMC4zKSc7XG4gIEBJbnB1dCgpIG1hcmtlclN0cm9rZVdpZHRoID0gMS4yO1xuICBASW5wdXQoKSByZWFkb25seSA9IGZhbHNlO1xuICBASW5wdXQoKSBzY2FsZSA9IDE7XG4gIEBJbnB1dCgpIHNlbGVjdEZpbGwgPSAnI0IyM0NGRCc7XG4gIEBJbnB1dCgpIHNlbGVjdFJlZ2lvbiA9IG51bGw7XG4gIEBJbnB1dCgpIHN0cm9rZSA9ICcjMDAwJztcbiAgQElucHV0KCkgc3Ryb2tlTGluZWpvaW4gPSAncm91bmQnO1xuICBASW5wdXQoKSBzdHJva2VPcGFjaXR5ID0gMTtcbiAgQElucHV0KCkgc3Ryb2tlV2lkdGggPSAwLjU7XG4gIEBJbnB1dCgpIHNlbGVjdGVkUmVnaW9uOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHRvb2x0aXBzID0gdHJ1ZTtcbiAgQElucHV0KCkgd2lkdGg6IG51bWJlcjtcbiAgQElucHV0KCkgem9vbUV2ZW50cyA9IHRydWU7XG4gIEBJbnB1dCgpIHpvb21NYXg6IG51bWJlcjtcbiAgQElucHV0KCkgem9vbU1pbiA9IDE7XG4gIEBJbnB1dCgpIHpvb21TdGVwID0gMC41O1xuXG4gIEBPdXRwdXQoKSBzZWxlY3RlZDogRXZlbnRFbWl0dGVyPE1kYk1hcFVuaXQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxNZGJNYXBVbml0PigpO1xuICBAT3V0cHV0KCkgbWFya2VyQ2xpY2s6IEV2ZW50RW1pdHRlcjxNZGJNYXBNYXJrZXI+ID0gbmV3IEV2ZW50RW1pdHRlcjxNZGJNYXBNYXJrZXI+KCk7XG5cbiAgX21hcFVuaXRzOiBNZGJNYXBVbml0W107XG5cbiAgX21hcFZpZXdCb3g6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIHByaXZhdGUgX2NvbXBvbmVudEluaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBfcGluY2g6IFBpbmNoO1xuXG4gIF9zY2FsZTogbnVtYmVyO1xuICBwcml2YXRlIF9tYXBSZWN0OiBhbnk7XG4gIHByaXZhdGUgX2VsZW1lbnRSZWN0OiBhbnk7XG4gIHByaXZhdGUgX29yaWdpbiA9IHsgeDogMCwgeTogMCB9O1xuICBwcml2YXRlIF94ID0gMDtcbiAgcHJpdmF0ZSBfeSA9IDA7XG4gIHByaXZhdGUgX3ZlY3RvcjogYW55O1xuICBwcml2YXRlIF9wcmV2UG9zaXRpb246IGFueSA9IG51bGw7XG5cbiAgcHJpdmF0ZSBfbW91c2VEb3duSGFuZGxlciA9IHRoaXMuX2hhbmRsZURyYWdTdGFydC5iaW5kKHRoaXMpO1xuICBwcml2YXRlIF9tb3VzZU1vdmVIYW5kbGVyID0gdGhpcy5faGFuZGxlRHJhZ01vdmUuYmluZCh0aGlzKTtcbiAgcHJpdmF0ZSBfbW91c2VFbmRIYW5kbGVyID0gdGhpcy5faGFuZGxlRHJhZ0VuZC5iaW5kKHRoaXMpO1xuXG4gIHByaXZhdGUgX3RvdWNoU3RhcnRIYW5kbGVyID0gdGhpcy5faGFuZGxlVG91Y2hTdGFydC5iaW5kKHRoaXMpO1xuICBwcml2YXRlIF90b3VjaE1vdmVIYW5kbGVyID0gdGhpcy5faGFuZGxlVG91Y2hNb3ZlLmJpbmQodGhpcyk7XG4gIHByaXZhdGUgX3RvdWNoRW5kSGFuZGxlciA9IHRoaXMuX2hhbmRsZVRvdWNoRW5kLmJpbmQodGhpcyk7XG5cbiAgcHJpdmF0ZSBfd2hlZWxFdmVudFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgX3BpbmNoRXZlbnRTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gIF96b29tSW5CdXR0b25EaXNhYmxlZCA9IGZhbHNlO1xuICBfem9vbU91dEJ1dHRvbkRpc2FibGVkID0gZmFsc2U7XG5cbiAgX3BpbnM6IGFueVtdID0gW107XG4gIF9idWxsZXRzOiBhbnlbXSA9IFtdO1xuXG4gIHByaXZhdGUgX2N1cnJlbnRTZWxlY3RlZFVuaXQ6IE1kYk1hcFVuaXQ7XG5cbiAgcHJpdmF0ZSBfb3ZlcmxheVJlZjogT3ZlcmxheVJlZiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF9wb3J0YWw6IFRlbXBsYXRlUG9ydGFsO1xuICBfY3VycmVudFRvb2x0aXBUaXRsZSA9ICcnO1xuICBfY3VycmVudFRvb2x0aXBDb250ZW50ID0gJyc7XG4gIGdldCBfZHJhZ2dpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXZQb3NpdGlvbiAhPT0gbnVsbDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgX2VsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSBfb3ZlcmxheTogT3ZlcmxheSxcbiAgICBwcml2YXRlIF92Y3I6IFZpZXdDb250YWluZXJSZWYsXG4gICAgcHJpdmF0ZSBfem9uZTogTmdab25lXG4gICkge31cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLl9jb21wb25lbnRJbml0aWFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5faW5pdE1hcCgpO1xuXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRSZWdpb24pIHtcbiAgICAgIHRoaXMuc2VsZWN0KHRoaXMuc2VsZWN0ZWRSZWdpb24pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3NldHVwRHJhZ0V2ZW50cygpIHtcbiAgICB0aGlzLnN2Z0VsZW1lbnQubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9tb3VzZURvd25IYW5kbGVyKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fbW91c2VFbmRIYW5kbGVyKTtcblxuICAgIHRoaXMuc3ZnRWxlbWVudC5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl90b3VjaFN0YXJ0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLl90b3VjaEVuZEhhbmRsZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaW5pdE1hcCgpIHtcbiAgICB0aGlzLl9zY2FsZSA9IHRoaXMuc2NhbGU7XG5cbiAgICBpZiAoIXRoaXMuY3VzdG9tTWFwQ29udGVudCkge1xuICAgICAgdGhpcy5fcmVuZGVyTWFwKHRoaXMubWFwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXBDb250ZW50VGVtcGxhdGUubmF0aXZlRWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmN1c3RvbU1hcENvbnRlbnQuaW5uZXJIVE1MO1xuICAgICAgdGhpcy5jdXN0b21NYXBDb250ZW50LnBhcmVudE5vZGUhLnJlbW92ZUNoaWxkKHRoaXMuY3VzdG9tTWFwQ29udGVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2FjaGVSZWN0UG9zaXRpb25zKCk7XG5cbiAgICB0aGlzLl9tYXBVbml0cyA9IHRoaXMuX2dldE1hcFVuaXRzKCk7XG5cbiAgICB0aGlzLl9zZXR1cFVuaXRzUGFyYW1ldGVycygpO1xuICAgIHRoaXMuX3NldHVwVW5pdHNFdmVudHMoKTtcblxuICAgIHRoaXMuX3NldHVwTWFwUG9zaXRpb24oKTtcbiAgICB0aGlzLl9zZXR1cE1hcmtlcnMoKTtcbiAgICB0aGlzLl90b2dnbGVab29tQnRucygpO1xuXG4gICAgaWYgKHRoaXMuem9vbUV2ZW50cykge1xuICAgICAgdGhpcy5fcGluY2ggPSBuZXcgUGluY2godGhpcy5zdmdFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgdGhpcy5fcGluY2guaW5pdCgpO1xuICAgICAgdGhpcy5fc2V0dXBXaGVlbEV2ZW50KCk7XG4gICAgICB0aGlzLl9zZXR1cFBpbmNoRXZlbnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXR1cERyYWdFdmVudHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZU1hcCgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudHMoKTtcblxuICAgIGlmICh0aGlzLm1hcENvbnRlbnRUZW1wbGF0ZSkge1xuICAgICAgLy8gdGhpcy5tYXBDb250ZW50VGVtcGxhdGUubmF0aXZlRWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICB9XG4gICAgdGhpcy5faW5pdE1hcCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyTWFwKG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IG1hcCA9IG1hcHNbbmFtZV07XG5cbiAgICBpZiAoIW1hcCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTWFwIFwiJHtuYW1lfVwiIGlzIG5vdCBhdmFpbGFibGVgKTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXBOb2RlID0gcGFyc2VUb0hUTUwobWFwKS5xdWVyeVNlbGVjdG9yKCdzdmcnKTtcbiAgICB0aGlzLl9tYXBWaWV3Qm94ID0gbWFwTm9kZS5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKTtcblxuICAgIHRoaXMubWFwQ29udGVudFRlbXBsYXRlLm5hdGl2ZUVsZW1lbnQuaW5uZXJIVE1MID0gbWFwTm9kZS5pbm5lckhUTUw7XG4gIH1cblxuICBwcml2YXRlIF9jYWNoZVJlY3RQb3NpdGlvbnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudFJlY3QgPSB0aGlzLndyYXBwZXIubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB0aGlzLl9tYXBSZWN0ID0gdGhpcy5zdmdFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRNYXBVbml0cygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN2Z0VsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoJykpLm1hcCgocGF0aDogYW55KSA9PiB7XG4gICAgICBjb25zdCBpZCA9IHBhdGguZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgY29uc3QgdGl0bGUgPSBwYXRoLmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCBwYXRoLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgY29uc3QgZCA9IHBhdGguZ2V0QXR0cmlidXRlKCdkJyk7XG4gICAgICBjb25zdCBmaWxsID0gcGF0aC5nZXRBdHRyaWJ1dGUoJ2ZpbGwnKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZWxlbWVudDogcGF0aCxcbiAgICAgICAgZCxcbiAgICAgICAgaWQsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBmaWxsLFxuICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgIHRvb2x0aXA6ICcnLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX3NldHVwVW5pdHNQYXJhbWV0ZXJzKCkge1xuICAgIHRoaXMuX21hcFVuaXRzLmZvckVhY2goKHVuaXQpID0+IHtcbiAgICAgIHVuaXQuZmlsbCA9IG51bGw7XG4gICAgICB1bml0LmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdmaWxsJyk7XG4gICAgfSk7XG5cbiAgICBpZiAoIXRoaXMuY29sb3JNYXAubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jb2xvck1hcC5mb3JFYWNoKChtYXApID0+IHtcbiAgICAgIG1hcC5yZWdpb25zLmZvckVhY2goKHJlZ2lvbikgPT4ge1xuICAgICAgICBjb25zdCB0b29sdGlwID0gcmVnaW9uLnRvb2x0aXAgfHwgJyc7XG4gICAgICAgIGNvbnN0IHVuaXQgPSB0aGlzLl9tYXBVbml0cy5maW5kKCh1bml0KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiByZWdpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5pdC5pZCA9PT0gcmVnaW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB1bml0LmlkID09PSByZWdpb24uaWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdW5pdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVuaXQuZmlsbCA9IG1hcC5maWxsO1xuICAgICAgICB1bml0LnRvb2x0aXAgPSB0b29sdGlwO1xuXG4gICAgICAgIGlmICghdW5pdC5zZWxlY3RlZCkge1xuICAgICAgICAgIHVuaXQuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCB1bml0LmZpbGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX3NldHVwVW5pdHNFdmVudHMoKSB7XG4gICAgdGhpcy5fbWFwVW5pdHMuZm9yRWFjaCgodW5pdCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnJlYWRvbmx5KSB7XG4gICAgICAgIHVuaXQuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZVVuaXRTZWxlY3Rpb24odW5pdCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5ob3ZlciB8fCB0aGlzLnRvb2x0aXBzKSB7XG4gICAgICAgIHVuaXQuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZXZlbnQpID0+XG4gICAgICAgICAgdGhpcy5faGFuZGxlVW5pdE1vdXNlb3ZlcihldmVudCwgdW5pdClcbiAgICAgICAgKTtcbiAgICAgICAgdW5pdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4gdGhpcy5faGFuZGxlVW5pdE1vdXNlb3V0KHVuaXQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX3NldHVwTWFwUG9zaXRpb24oKSB7XG4gICAgdGhpcy5fb3JpZ2luID0gZ2V0RWxlbWVudENlbnRlcih0aGlzLl9tYXBSZWN0KTtcblxuICAgIHRoaXMuX3VwZGF0ZVRyYW5zZm9ybU9yaWdpbigpO1xuXG4gICAgdGhpcy5fc2V0SW5pdGlhbE1hcFBvc2l0aW9uKCk7XG5cbiAgICB0aGlzLl91cGRhdGVNYXBUcmFuc2Zvcm0oKTtcbiAgfVxuXG4gIHByaXZhdGUgX3NldHVwTWFya2VycygpIHtcbiAgICBjb25zdCBwaW5zID0gW107XG4gICAgY29uc3QgYnVsbGV0cyA9IFtdO1xuXG4gICAgdGhpcy5tYXJrZXJzLmZvckVhY2goKG1hcmtlcikgPT4ge1xuICAgICAgaWYgKG1hcmtlci50eXBlID09PSAncGluJykge1xuICAgICAgICBjb25zdCBwaW4gPSB0aGlzLl9nZXRQaW4obWFya2VyKTtcbiAgICAgICAgcGlucy5wdXNoKHBpbik7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXJrZXIudHlwZSA9PT0gJ2J1bGxldCcpIHtcbiAgICAgICAgY29uc3QgYnVsbGV0ID0gdGhpcy5fZ2V0QnVsbGV0KG1hcmtlcik7XG4gICAgICAgIGJ1bGxldHMucHVzaChidWxsZXQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5fcGlucyA9IFsuLi5waW5zXTtcbiAgICB0aGlzLl9idWxsZXRzID0gWy4uLmJ1bGxldHNdO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0UGluKHBpbjogTWRiTWFwTWFya2VyKSB7XG4gICAgY29uc3QgaW5uZXJSYWRpdXMgPSAoMTQgLyB0aGlzLl9zY2FsZSkgKiAwLjU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGFiZWw6IHBpbi5sYWJlbCxcbiAgICAgIHg6IHBpbi54LFxuICAgICAgeTogcGluLnksXG4gICAgICBkOiB0aGlzLl9nZXRQaW5QYXRoKHBpbi54LCBwaW4ueSksXG4gICAgICByYWRpdXM6IGlubmVyUmFkaXVzIC8gMixcbiAgICAgIGlubmVyUmFkaXVzOiBpbm5lclJhZGl1cyxcbiAgICAgIGlubmVyWTogcGluLnkgLSA1NCAvIDIsXG4gICAgICBjaXJjbGVGaWxsOiAncmdiYSgwLCAwLCAwLCAwLjIpJyxcbiAgICAgIHN0cm9rZVdpZHRoOiBwaW4uc3Ryb2tlV2lkdGggfHwgdGhpcy5zdHJva2VXaWR0aCxcbiAgICAgIGZpbGw6IHBpbi5maWxsIHx8IHRoaXMubWFya2VyRmlsbCxcbiAgICAgIGlubmVyRmlsbDogcGluLmlubmVyRmlsbCB8fCB0aGlzLm1hcmtlcklubmVyRmlsbCxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0UGluUGF0aCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIGNvbnN0IGhlaWdodCA9IDQwO1xuICAgIGNvbnN0IHJhZGl1cyA9IDE0O1xuICAgIGNvbnN0IGR5QUMgPSBoZWlnaHQgLSByYWRpdXM7XG4gICAgY29uc3QgYWxwaGEgPSBNYXRoLmFjb3MocmFkaXVzIC8gZHlBQyk7XG4gICAgY29uc3QgZGVsdGFYID0gcmFkaXVzICogTWF0aC5zaW4oYWxwaGEpO1xuICAgIGNvbnN0IGRlbHRhWSA9IChoZWlnaHQgKiAoaGVpZ2h0IC0gcmFkaXVzICogMikpIC8gZHlBQztcbiAgICByZXR1cm4gYE0gJHt4fSwke3l9IGwgJHstZGVsdGFYfSwkey1kZWx0YVl9IEEgJHtyYWRpdXN9ICR7cmFkaXVzfSAxIDEgMSAke3ggKyBkZWx0YVh9LCR7XG4gICAgICB5IC0gZGVsdGFZXG4gICAgfSBsIDAsMCB6YDtcbiAgfVxuXG4gIHByaXZhdGUgX2dldEJ1bGxldChidWxsZXQ6IE1kYk1hcE1hcmtlcikge1xuICAgIGNvbnN0IHJhZGl1cyA9IGJ1bGxldC5yYWRpdXMgfHwgNTtcblxuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogYnVsbGV0LmxhYmVsLFxuICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICBzdHJva2VXaWR0aDogMCxcbiAgICAgIGZpbGw6IGJ1bGxldC5maWxsLFxuICAgICAgeDogYnVsbGV0LngsXG4gICAgICB5OiBidWxsZXQueSxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICAgIGlubmVyT3BhY2l0eTogMSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBfc2V0dXBXaGVlbEV2ZW50KCkge1xuICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgZnJvbUV2ZW50KHRoaXMuX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgJ3doZWVsJykuc3Vic2NyaWJlKChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgbW91c2VQb3NpdGlvbiA9IGdldEV2ZW50Q29vcmRpbmF0ZXMoZXZlbnQpO1xuXG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGV2ZW50LmRlbHRhWSA8IDAgPyAxIDogLTE7XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IGRpcmVjdGlvbiAqIHRoaXMuem9vbVN0ZXA7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9hbGxvd1pvb20oZmFjdG9yKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX29yaWdpbiA9IHRoaXMuX2dldE9yaWdpbihtb3VzZVBvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVUcmFuc2Zvcm1PcmlnaW4oKTtcblxuICAgICAgICB0aGlzLl9zZXRJbml0aWFsTWFwUG9zaXRpb24oKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVNYXBUcmFuc2Zvcm0oKTtcblxuICAgICAgICB0aGlzLl96b25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fem9vbShmYWN0b3IpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfc2V0dXBQaW5jaEV2ZW50KCkge1xuICAgIGZyb21FdmVudCh0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsICdwaW5jaCcpLnN1YnNjcmliZSgoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGZhY3RvciA9IHRoaXMuX3NjYWxlICogKGV2ZW50LnJhdGlvIC0gMSk7XG4gICAgICBpZiAoIXRoaXMuX2FsbG93Wm9vbShmYWN0b3IpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX29yaWdpbiA9IHRoaXMuX2dldE9yaWdpbihldmVudC5vcmlnaW4pO1xuICAgICAgdGhpcy5fdXBkYXRlVHJhbnNmb3JtT3JpZ2luKCk7XG4gICAgICB0aGlzLl9zZXRJbml0aWFsTWFwUG9zaXRpb24oKTtcbiAgICAgIHRoaXMuX3VwZGF0ZU1hcFRyYW5zZm9ybSgpO1xuICAgICAgdGhpcy5fem9vbShmYWN0b3IpO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZVBpbmNoKGV2ZW50OiBhbnkpIHtcbiAgICBjb25zdCBmYWN0b3IgPSB0aGlzLl9zY2FsZSAqIChldmVudC5vdmVyYWxsVmVsb2NpdHkgKyAxKTtcblxuICAgIGlmICghdGhpcy5fYWxsb3dab29tKGZhY3RvcikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9vcmlnaW4gPSB0aGlzLl9nZXRPcmlnaW4oZXZlbnQudGFyZ2V0KTtcblxuICAgIHRoaXMuX3VwZGF0ZVRyYW5zZm9ybU9yaWdpbigpO1xuXG4gICAgdGhpcy5fc2V0SW5pdGlhbE1hcFBvc2l0aW9uKCk7XG5cbiAgICB0aGlzLl91cGRhdGVNYXBUcmFuc2Zvcm0oKTtcblxuICAgIHRoaXMuX3pvb20oZmFjdG9yKTtcbiAgfVxuXG4gIHByaXZhdGUgX2FsbG93Wm9vbShmYWN0b3I6IG51bWJlcikge1xuICAgIHJldHVybiAoXG4gICAgICAhKHRoaXMuX3NjYWxlID09PSB0aGlzLnpvb21NYXggJiYgZmFjdG9yID4gMCkgJiYgISh0aGlzLl9zY2FsZSA9PT0gdGhpcy56b29tTWluICYmIGZhY3RvciA8IDApXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX2dldE9yaWdpbihwb2ludCkge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLnN2Z0VsZW1lbnQubmF0aXZlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGNvbnN0IHBvc2l0aW9uID0ge1xuICAgICAgeDogKHBvaW50LnggLSByZWN0LngpIC8gdGhpcy5fc2NhbGUsXG4gICAgICB5OiAocG9pbnQueSAtIHJlY3QueSkgLyB0aGlzLl9zY2FsZSxcbiAgICB9O1xuXG4gICAgY29uc3QgZHggPSAocG9zaXRpb24ueCAtIHRoaXMuX29yaWdpbi54IC0gdGhpcy5feCkgLyB0aGlzLl9zY2FsZTtcbiAgICBjb25zdCBkeSA9IChwb3NpdGlvbi55IC0gdGhpcy5fb3JpZ2luLnkgLSB0aGlzLl95KSAvIHRoaXMuX3NjYWxlO1xuXG4gICAgY29uc3Qgb3JpZ2luID0ge1xuICAgICAgeDogdGhpcy5fb3JpZ2luLnggKyBkeCxcbiAgICAgIHk6IHRoaXMuX29yaWdpbi55ICsgZHksXG4gICAgfTtcblxuICAgIHJldHVybiBvcmlnaW47XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVUcmFuc2Zvcm1PcmlnaW4oKSB7XG4gICAgdGhpcy5zdmdFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7dGhpcy5fb3JpZ2luLnh9cHggJHt0aGlzLl9vcmlnaW4ueX1weGA7XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGVNYXBUcmFuc2Zvcm0oKSB7XG4gICAgdGhpcy5zdmdFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYG1hdHJpeCgke3RoaXMuX3NjYWxlfSwgMCwgMCwgJHt0aGlzLl9zY2FsZX0sICR7dGhpcy5feH0sICR7dGhpcy5feX0pYDtcbiAgfVxuXG4gIF96b29tKGZhY3RvcjogbnVtYmVyKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9zY2FsZSArIGZhY3RvcjtcblxuICAgIGlmICh2YWx1ZSA8PSB0aGlzLnpvb21NaW4pIHtcbiAgICAgIHRoaXMuX3NjYWxlID0gdGhpcy56b29tTWluO1xuXG4gICAgICB0aGlzLl9vcmlnaW4gPSB0aGlzLl9nZXRWYWx1ZUluTWFwQm91bmRyeShnZXRFbGVtZW50Q2VudGVyKHRoaXMuX2VsZW1lbnRSZWN0KSk7XG5cbiAgICAgIHRoaXMuX3VwZGF0ZVRyYW5zZm9ybU9yaWdpbigpO1xuXG4gICAgICB0aGlzLl91cGRhdGVNYXBUcmFuc2Zvcm0oKTtcblxuICAgICAgdGhpcy5fc2V0SW5pdGlhbE1hcFBvc2l0aW9uKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnpvb21NYXggIT09IG51bGwgJiYgdmFsdWUgPj0gdGhpcy56b29tTWF4KSB7XG4gICAgICB0aGlzLl9zY2FsZSA9IHRoaXMuem9vbU1heDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2NhbGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICB0aGlzLl90b2dnbGVab29tQnRucygpO1xuXG4gICAgdGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKCk7XG5cbiAgICAvLyB0aGlzLl91cGRhdGVNYXJrZXJzKCk7XG5cbiAgICB0aGlzLnN2Z0VsZW1lbnQubmF0aXZlRWxlbWVudC5zdHlsZS5zdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGggLyB0aGlzLl9zY2FsZTtcbiAgfVxuXG4gIF9nZXRWYWx1ZUluTWFwQm91bmRyeSh7IHgsIHkgfSkge1xuICAgIHRoaXMuX2NhY2hlUmVjdFBvc2l0aW9ucygpO1xuICAgIGNvbnN0IG1hcmdpbnMgPSB0aGlzLl9nZXRNYXBNYXJnaW5zKCk7XG5cbiAgICBsZXQgeFBvc2l0aW9uID0gdGhpcy5feDtcbiAgICBsZXQgeVBvc2l0aW9uID0gdGhpcy5feTtcblxuICAgIGlmICgoeCA8IDAgJiYgbWFyZ2lucy5yaWdodCA+IDApIHx8ICh4ID4gMCAmJiBtYXJnaW5zLmxlZnQgPiAwKSkge1xuICAgICAgeFBvc2l0aW9uICs9IHg7XG4gICAgfVxuXG4gICAgaWYgKCh5ID4gMCAmJiBtYXJnaW5zLnRvcCA+IDApIHx8ICh5IDwgMCAmJiBtYXJnaW5zLmJvdHRvbSA+IDApKSB7XG4gICAgICB5UG9zaXRpb24gKz0geTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogeFBvc2l0aW9uLFxuICAgICAgeTogeVBvc2l0aW9uLFxuICAgIH07XG4gIH1cblxuICBfZ2V0TWFwTWFyZ2lucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogdGhpcy5fZWxlbWVudFJlY3QubGVmdCAtIHRoaXMuX21hcFJlY3QubGVmdCxcbiAgICAgIHRvcDogdGhpcy5fZWxlbWVudFJlY3QudG9wIC0gdGhpcy5fbWFwUmVjdC50b3AsXG4gICAgICByaWdodDogdGhpcy5fbWFwUmVjdC5yaWdodCAtIHRoaXMuX2VsZW1lbnRSZWN0LnJpZ2h0LFxuICAgICAgYm90dG9tOiB0aGlzLl9tYXBSZWN0LmJvdHRvbSAtIHRoaXMuX2VsZW1lbnRSZWN0LmJvdHRvbSxcbiAgICB9O1xuICB9XG5cbiAgc2VsZWN0KHJlZ2lvbjogc3RyaW5nKSB7XG4gICAgY29uc3QgY29ycmVzcG9uZGluZ1VuaXQgPSB0aGlzLl9tYXBVbml0cy5maW5kKCh1bml0KSA9PiB1bml0LmlkID09PSByZWdpb24pO1xuXG4gICAgaWYgKGNvcnJlc3BvbmRpbmdVbml0KSB7XG4gICAgICB0aGlzLl9zZWxlY3RVbml0KGNvcnJlc3BvbmRpbmdVbml0KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zZXRJbml0aWFsTWFwUG9zaXRpb24oKSB7XG4gICAgdGhpcy5feCA9IDA7XG4gICAgdGhpcy5feSA9IDA7XG4gIH1cblxuICBwcml2YXRlIF90b2dnbGVab29tQnRucygpIHtcbiAgICBpZiAodGhpcy5fc2NhbGUgPT09IHRoaXMuem9vbU1pbikge1xuICAgICAgdGhpcy5fem9vbU91dEJ1dHRvbkRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fem9vbU91dEJ1dHRvbkRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3NjYWxlID09PSB0aGlzLnpvb21NYXgpIHtcbiAgICAgIHRoaXMuX3pvb21JbkJ1dHRvbkRpc2FibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fem9vbUluQnV0dG9uRGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBfc2VsZWN0VW5pdCh1bml0OiBNZGJNYXBVbml0KSB7XG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5fY3VycmVudFNlbGVjdGVkVW5pdDtcblxuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgIHNlbGVjdGlvbi5zZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAoc2VsZWN0aW9uLmZpbGwpIHtcbiAgICAgICAgc2VsZWN0aW9uLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdmaWxsJywgc2VsZWN0aW9uLmZpbGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0aW9uLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdmaWxsJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdW5pdC5zZWxlY3RlZCA9IHRydWU7XG4gICAgdW5pdC5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZmlsbCcsIHRoaXMuc2VsZWN0RmlsbCk7XG4gICAgdGhpcy5fY3VycmVudFNlbGVjdGVkVW5pdCA9IHVuaXQ7XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVVbml0U2VsZWN0aW9uKHVuaXQ6IE1kYk1hcFVuaXQpIHtcbiAgICB0aGlzLl9zZWxlY3RVbml0KHVuaXQpO1xuICAgIHRoaXMuc2VsZWN0ZWQuZW1pdCh1bml0KTtcbiAgfVxuXG4gIF9oYW5kbGVVbml0TW91c2VvdmVyKGV2ZW50OiBhbnksIHVuaXQ6IE1kYk1hcFVuaXQpIHtcbiAgICBpZiAodGhpcy5fZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3Zlcikge1xuICAgICAgdW5pdC5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZmlsbCcsIHRoaXMuaG92ZXJGaWxsKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50b29sdGlwcykge1xuICAgICAgdGhpcy5fY3VycmVudFRvb2x0aXBUaXRsZSA9IHVuaXQudGl0bGU7XG4gICAgICB0aGlzLl9jdXJyZW50VG9vbHRpcENvbnRlbnQgPSB1bml0LnRvb2x0aXAgIT09ICcnID8gdW5pdC50b29sdGlwIDogbnVsbDtcbiAgICAgIHRoaXMuX3Nob3dVbml0VG9vbHRpcChldmVudCwgdW5pdCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVVuaXRNb3VzZW91dCh1bml0OiBNZGJNYXBVbml0KSB7XG4gICAgaWYgKHRoaXMuaG92ZXIpIHtcbiAgICAgIGlmICh1bml0LnNlbGVjdGVkKSB7XG4gICAgICAgIHVuaXQuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCB0aGlzLnNlbGVjdEZpbGwpO1xuICAgICAgfSBlbHNlIGlmICh1bml0LmZpbGwpIHtcbiAgICAgICAgdW5pdC5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZmlsbCcsIHVuaXQuZmlsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1bml0LmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdmaWxsJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudG9vbHRpcHMpIHtcbiAgICAgIHRoaXMuX2hpZGVVbml0VG9vbHRpcCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3Nob3dVbml0VG9vbHRpcChldmVudDogYW55LCB1bml0OiBNZGJNYXBVbml0KSB7XG4gICAgaWYgKHRoaXMuX292ZXJsYXlSZWYpIHtcbiAgICAgIHRoaXMuX292ZXJsYXlSZWYuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5fb3ZlcmxheVJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgdGhpcy5fcG9ydGFsID0gbmV3IFRlbXBsYXRlUG9ydGFsKHRoaXMudG9vbHRpcFRlbXBsYXRlLCB0aGlzLl92Y3IpO1xuXG4gICAgdGhpcy5fb3ZlcmxheVJlZiA9IHRoaXMuX292ZXJsYXkuY3JlYXRlKHtcbiAgICAgIHBvc2l0aW9uU3RyYXRlZ3k6IHRoaXMuX2dldE92ZXJsYXlQb3NpdGlvbihldmVudCksXG4gICAgICBwYW5lbENsYXNzOiAndmVjdG9yLW1hcC1wYW5lJyxcbiAgICB9KTtcblxuICAgIHRoaXMuX292ZXJsYXlSZWYuYXR0YWNoKHRoaXMuX3BvcnRhbCk7XG4gICAgY29uc3QgcmVmID0gdGhpcy5fb3ZlcmxheVJlZjtcblxuICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgZnJvbUV2ZW50KHVuaXQuZWxlbWVudCwgJ21vdXNlbW92ZScpXG4gICAgICAgIC5waXBlKHRha2VVbnRpbChyZWYuZGV0YWNobWVudHMoKSkpXG4gICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICBjb25zdCBwb3NpdGlvblN0cmF0ZWd5ID0gdGhpcy5fb3ZlcmxheVxuICAgICAgICAgICAgLnBvc2l0aW9uKClcbiAgICAgICAgICAgIC5nbG9iYWwoKVxuICAgICAgICAgICAgLmxlZnQoZXZlbnQuY2xpZW50WCArIFRPT0xUSVBfT0ZGU0VUX1ggKyAncHgnKVxuICAgICAgICAgICAgLnRvcChldmVudC5jbGllbnRZICsgVE9PTFRJUF9PRkZTRVRfWSArICdweCcpO1xuICAgICAgICAgIHRoaXMuX292ZXJsYXlSZWYudXBkYXRlUG9zaXRpb25TdHJhdGVneShwb3NpdGlvblN0cmF0ZWd5KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9oaWRlVW5pdFRvb2x0aXAoKSB7XG4gICAgaWYgKHRoaXMuX292ZXJsYXlSZWYpIHtcbiAgICAgIHRoaXMuX292ZXJsYXlSZWYuZGV0YWNoKCk7XG4gICAgICB0aGlzLl9vdmVybGF5UmVmLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuX292ZXJsYXlSZWYgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2dldE92ZXJsYXlQb3NpdGlvbihldmVudDogYW55KTogUG9zaXRpb25TdHJhdGVneSB7XG4gICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggKyAncHgnO1xuICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZICsgJ3B4JztcbiAgICBjb25zdCBwb3NpdGlvblN0cmF0ZWd5ID0gdGhpcy5fb3ZlcmxheS5wb3NpdGlvbigpLmdsb2JhbCgpLmxlZnQoeCkudG9wKHkpO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9uU3RyYXRlZ3k7XG4gIH1cblxuICBfaGFuZGxlRHJhZ1N0YXJ0KGV2ZW50OiBhbnkpIHtcbiAgICBpZiAoKGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB8fCBldmVudC5idXR0b24gPT09IDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9wcmV2UG9zaXRpb24gPSBnZXRFdmVudENvb3JkaW5hdGVzKGV2ZW50KTtcbiAgICB0aGlzLndyYXBwZXIubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkcmFnZ2VkJyk7XG5cbiAgICB0aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX21vdXNlTW92ZUhhbmRsZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZURyYWdNb3ZlKGV2ZW50OiBhbnkpIHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3ByZXZQb3NpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBtb3VzZVBvc2l0aW9uID0gZ2V0RXZlbnRDb29yZGluYXRlcyhldmVudCk7XG4gICAgY29uc3QgZGlzcGxhY2VtZW50ID0gdGhpcy5fZ2V0VmFsdWVJbk1hcEJvdW5kcnkoXG4gICAgICBnZXREaXNwbGFjZW1lbnQobW91c2VQb3NpdGlvbiwgdGhpcy5fcHJldlBvc2l0aW9uKVxuICAgICk7XG5cbiAgICB0aGlzLl94ID0gZGlzcGxhY2VtZW50Lng7XG4gICAgdGhpcy5feSA9IGRpc3BsYWNlbWVudC55O1xuXG4gICAgdGhpcy5fcHJldlBvc2l0aW9uID0gbW91c2VQb3NpdGlvbjtcblxuICAgIHRoaXMuX3VwZGF0ZU1hcFRyYW5zZm9ybSgpO1xuXG4gICAgLy8gdGhpcy5fdXBkYXRlTWFya2VyVG9vbHRpcHMoKTtcbiAgfVxuXG4gIF9oYW5kbGVEcmFnRW5kKCkge1xuICAgIHRoaXMuX3ByZXZQb3NpdGlvbiA9IG51bGw7XG5cbiAgICB0aGlzLndyYXBwZXIubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2VkJyk7XG4gIH1cblxuICBfaGFuZGxlVG91Y2hTdGFydChldmVudDogYW55KSB7XG4gICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgdGhpcy5fdmVjdG9yID0gZ2V0VmVjdG9yKGV2ZW50KTtcblxuICAgICAgdGhpcy5fb3JpZ2luID0geyAuLi50aGlzLl92ZWN0b3IuY2VudGVyIH07XG5cbiAgICAgIHRoaXMuX3VwZGF0ZVRyYW5zZm9ybU9yaWdpbigpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faGFuZGxlRHJhZ1N0YXJ0KGV2ZW50KTtcblxuICAgIHRoaXMuc3ZnRWxlbWVudC5uYXRpdmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX3RvdWNoTW92ZUhhbmRsZXIpO1xuICB9XG5cbiAgX2hhbmRsZVRvdWNoTW92ZShldmVudDogYW55KSB7XG4gICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSAmJiB0aGlzLl92ZWN0b3IpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgY29uc3QgdmVjdG9yID0gZ2V0VmVjdG9yKGV2ZW50KTtcblxuICAgICAgY29uc3QgcmF0aW8gPSB2ZWN0b3IubGVuZ3RoIC8gdGhpcy5fdmVjdG9yLmxlbmd0aDtcbiAgICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gdGhpcy5fc2NhbGUgKiAocmF0aW8gLSAxKTtcblxuICAgICAgdGhpcy5fem9vbShzY2FsZUZhY3Rvcik7XG5cbiAgICAgIHRoaXMuX3ZlY3RvciA9IHZlY3RvcjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faGFuZGxlRHJhZ01vdmUoZXZlbnQpO1xuICB9XG5cbiAgX2hhbmRsZVRvdWNoRW5kKGV2ZW50OiBhbnkpIHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aGlzLl92ZWN0b3IgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9oYW5kbGVEcmFnRW5kKCk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW1vdmVFdmVudHMoKTtcblxuICAgIGlmICh0aGlzLl9waW5jaCkge1xuICAgICAgdGhpcy5fcGluY2guZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vdmVybGF5UmVmKSB7XG4gICAgICB0aGlzLl9vdmVybGF5UmVmLmRldGFjaCgpO1xuICAgICAgdGhpcy5fb3ZlcmxheVJlZi5kaXNwb3NlKCk7XG4gICAgICB0aGlzLl9vdmVybGF5UmVmID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9yZW1vdmVFdmVudHMoKSB7XG4gICAgaWYgKHRoaXMuc3ZnRWxlbWVudCkge1xuICAgICAgdGhpcy5zdmdFbGVtZW50Lm5hdGl2ZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fbW91c2VEb3duSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9tb3VzZU1vdmVIYW5kbGVyKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9tb3VzZUVuZEhhbmRsZXIpO1xuXG4gICAgICB0aGlzLnN2Z0VsZW1lbnQubmF0aXZlRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fdG91Y2hTdGFydEhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fdG91Y2hNb3ZlSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX3RvdWNoRW5kSGFuZGxlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3doZWVsRXZlbnRTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMuX3doZWVsRXZlbnRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcGluY2hFdmVudFN1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy5fcGluY2hFdmVudFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRBbmltYXRlVmFsdWUocmFkaXVzOiBudW1iZXIpIHtcbiAgICByZXR1cm4gYCR7cmFkaXVzIC8gdGhpcy5fc2NhbGV9OyAkeyhyYWRpdXMgLyB0aGlzLl9zY2FsZSkgKiA1fTsgJHtyYWRpdXMgLyB0aGlzLl9zY2FsZX1gO1xuICB9XG5cbiAgX2VtaXRNYXJrZXJDbGljayh0eXBlOiAncGluJyB8ICdidWxsZXQnLCB4OiBudW1iZXIsIHk6IG51bWJlciwgbGFiZWw6IHN0cmluZykge1xuICAgIHRoaXMubWFya2VyQ2xpY2suZW1pdCh7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICBsYWJlbDogbGFiZWwsXG4gICAgfSk7XG4gIH1cbn1cbiIsIjxkaXYgI3dyYXBwZXIgY2xhc3M9XCJ2ZWN0b3ItbWFwXCI+XG4gIDxzdmdcbiAgICBbYXR0ci52aWV3Qm94XT1cIl9tYXBWaWV3Qm94IHx8IHZpZXdCb3hcIlxuICAgIFtzdHlsZS5maWxsXT1cImZpbGxcIlxuICAgIFtzdHlsZS5maWxsT3BhY2l0eV09XCJmaWxsT3BhY2l0eVwiXG4gICAgW3N0eWxlLnN0cm9rZV09XCJzdHJva2VcIlxuICAgIFtzdHlsZS5zdHJva2VXaWR0aF09XCJzdHJva2VXaWR0aFwiXG4gICAgW3N0eWxlLnN0cm9rZU9wYWNpdHldPVwic3Ryb2tlT3BhY2l0eVwiXG4gICAgW3N0eWxlLnN0cm9rZUxpbmVqb2luXT1cInN0cm9rZUxpbmVqb2luXCJcbiAgICAjc3ZnRWxlbWVudFxuICA+XG4gICAgPGcgI21hcENvbnRlbnRUZW1wbGF0ZT48L2c+XG5cbiAgICA8ZyBjbGFzcz1cInZlY3Rvci1tYXAtbWFya2VyXCIgKm5nRm9yPVwibGV0IHBpbiBvZiBfcGluc1wiIFttZGJUb29sdGlwXT1cInBpbi5sYWJlbFwiPlxuICAgICAgPGNpcmNsZVxuICAgICAgICBjbGFzcz1cInBpbi1zaGFkb3ctY2lyY2xlXCJcbiAgICAgICAgW2F0dHIuY3hdPVwicGluLnhcIlxuICAgICAgICBbYXR0ci5jeV09XCJwaW4ueVwiXG4gICAgICAgIFthdHRyLnN0cm9rZVdpZHRoXT1cInBpbi5zdHJva2VXaWR0aFwiXG4gICAgICAgIFthdHRyLmZpbGxdPVwicGluLmNpcmNsZUZpbGxcIlxuICAgICAgICBbYXR0ci5yXT1cInBpbi5yYWRpdXNcIlxuICAgICAgICAoY2xpY2spPVwiX2VtaXRNYXJrZXJDbGljayhwaW4udHlwZSwgcGluLngsIHBpbi55LCBwaW4ubGFiZWwpXCJcbiAgICAgID48L2NpcmNsZT5cbiAgICAgIDxwYXRoXG4gICAgICAgIFthdHRyLmRdPVwicGluLmRcIlxuICAgICAgICBbYXR0ci5maWxsXT1cInBpbi5maWxsXCJcbiAgICAgICAgW2F0dHIuc3Ryb2tlXT1cInBpbi5zdHJva2VcIlxuICAgICAgICBbYXR0ci5zdHJva2VXaWR0aF09XCJwaW4uc3Ryb2tlV2lkdGhcIlxuICAgICAgPjwvcGF0aD5cbiAgICAgIDxjaXJjbGVcbiAgICAgICAgY2xhc3M9XCJwaW4taW5uZXItY2lyY2xlXCJcbiAgICAgICAgW2F0dHIuY3hdPVwicGluLnhcIlxuICAgICAgICBbYXR0ci5jeV09XCJwaW4uaW5uZXJZXCJcbiAgICAgICAgW2F0dHIuc3Ryb2tlXT1cInBpbi5zdHJva2VcIlxuICAgICAgICBbYXR0ci5zdHJva2VXaWR0aF09XCJwaW4uc3Ryb2tlV2lkdGhcIlxuICAgICAgICBbYXR0ci5yXT1cInBpbi5pbm5lclJhZGl1c1wiXG4gICAgICAgIFthdHRyLmZpbGxdPVwicGluLmlubmVyRmlsbFwiXG4gICAgICA+PC9jaXJjbGU+XG4gICAgPC9nPlxuICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGJ1bGxldCBvZiBfYnVsbGV0c1wiPlxuICAgICAgPGNpcmNsZVxuICAgICAgICBbYXR0ci5jeF09XCJidWxsZXQueFwiXG4gICAgICAgIFthdHRyLmN5XT1cImJ1bGxldC55XCJcbiAgICAgICAgW2F0dHIucl09XCJidWxsZXQucmFkaXVzIC8gX3NjYWxlXCJcbiAgICAgICAgW2F0dHIuZmlsbF09XCJidWxsZXQuZmlsbFwiXG4gICAgICAgIFthdHRyLnN0cm9rZS13aWR0aF09XCJidWxsZXQuc3Ryb2tlV2lkdGhcIlxuICAgICAgICBbYXR0ci5vcGFjaXR5XT1cImJ1bGxldC5vcGFjaXR5XCJcbiAgICAgICAgY2xhc3M9XCJhbmltYXRlZC1jaXJjbGVcIlxuICAgICAgPlxuICAgICAgICA8YW5pbWF0ZVxuICAgICAgICAgIFthdHRyLmF0dHJpYnV0ZU5hbWVdPVwiJ3InXCJcbiAgICAgICAgICBbYXR0ci52YWx1ZXNdPVwiX2dldEFuaW1hdGVWYWx1ZShidWxsZXQucmFkaXVzKVwiXG4gICAgICAgICAgW2F0dHIuZHVyXT1cIicxLjVzJ1wiXG4gICAgICAgICAgW2F0dHIucmVwZWF0Q291bnRdPVwiJ2luZGVmaW5pdGUnXCJcbiAgICAgICAgPjwvYW5pbWF0ZT5cbiAgICAgICAgPGFuaW1hdGVcbiAgICAgICAgICBbYXR0ci5hdHRyaWJ1dGVOYW1lXT1cIidvcGFjaXR5J1wiXG4gICAgICAgICAgW2F0dHIudmFsdWVzXT1cIicwOzAuMzswJ1wiXG4gICAgICAgICAgW2F0dHIuZHVyXT1cIicxLjVzJ1wiXG4gICAgICAgICAgW2F0dHIucmVwZWF0Q291bnRdPVwiJ2luZGVmaW5pdGUnXCJcbiAgICAgICAgPjwvYW5pbWF0ZT5cbiAgICAgIDwvY2lyY2xlPlxuICAgICAgPGNpcmNsZVxuICAgICAgICBbbWRiVG9vbHRpcF09XCJidWxsZXQubGFiZWxcIlxuICAgICAgICBbYXR0ci5jeF09XCJidWxsZXQueFwiXG4gICAgICAgIFthdHRyLmN5XT1cImJ1bGxldC55XCJcbiAgICAgICAgW2F0dHIucl09XCJidWxsZXQucmFkaXVzIC8gX3NjYWxlXCJcbiAgICAgICAgW2F0dHIuZmlsbF09XCJidWxsZXQuZmlsbFwiXG4gICAgICAgIFthdHRyLnN0cm9rZS13aWR0aF09XCJidWxsZXQuc3Ryb2tlV2lkdGhcIlxuICAgICAgICBbYXR0ci5vcGFjaXR5XT1cImJ1bGxldC5pbm5lck9wYWNpdHlcIlxuICAgICAgICAoY2xpY2spPVwiX2VtaXRNYXJrZXJDbGljayhidWxsZXQudHlwZSwgYnVsbGV0LngsIGJ1bGxldC55LCBidWxsZXQubGFiZWwpXCJcbiAgICAgICAgY2xhc3M9XCJ2ZWN0b3ItbWFwLW1hcmtlclwiXG4gICAgICA+PC9jaXJjbGU+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIDwvc3ZnPlxuICA8ZGl2IGNsYXNzPVwidmVjdG9yLW1hcC10b29sYmFyXCI+XG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3M9XCJidG4gYnRuLWZsb2F0aW5nIHt7IGJ0bkNsYXNzIH19XCJcbiAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiJ1pvb20gaW4nXCJcbiAgICAgIHN0eWxlPVwibWluLXdpZHRoOiAzN3B4XCJcbiAgICAgIFtkaXNhYmxlZF09XCJfem9vbUluQnV0dG9uRGlzYWJsZWRcIlxuICAgICAgKGNsaWNrKT1cIl96b29tKHpvb21TdGVwKVwiXG4gICAgPlxuICAgICAgPGkgY2xhc3M9XCJmYSBmYS1wbHVzXCI+PC9pPlxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzPVwiYnRuIGJ0bi1mbG9hdGluZyB7eyBidG5DbGFzcyB9fVwiXG4gICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIidab29tIG91dCdcIlxuICAgICAgc3R5bGU9XCJtaW4td2lkdGg6IDM3cHhcIlxuICAgICAgW2Rpc2FibGVkXT1cIl96b29tT3V0QnV0dG9uRGlzYWJsZWRcIlxuICAgICAgKGNsaWNrKT1cIl96b29tKC0xICogem9vbVN0ZXApXCJcbiAgICA+XG4gICAgICA8aSBjbGFzcz1cImZhIGZhLW1pbnVzXCI+PC9pPlxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cblxuICA8bmctdGVtcGxhdGUgI3Rvb2x0aXBUZW1wbGF0ZT5cbiAgICA8ZGl2IGNsYXNzPVwidmVjdG9yLW1hcC10b29sdGlwXCIgc3R5bGU9XCJwb2ludGVyLWV2ZW50czogbm9uZTtcIj5cbiAgICAgIDxzdHJvbmc+e3sgX2N1cnJlbnRUb29sdGlwVGl0bGUgfX08L3N0cm9uZz5cbiAgICAgIDxkaXYgKm5nSWY9XCJfY3VycmVudFRvb2x0aXBDb250ZW50XCIgW2lubmVySFRNTF09XCJfY3VycmVudFRvb2x0aXBDb250ZW50XCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvbmctdGVtcGxhdGU+XG48L2Rpdj5cbiJdfQ==