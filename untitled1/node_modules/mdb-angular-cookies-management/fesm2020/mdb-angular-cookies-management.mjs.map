{"version":3,"file":"mdb-angular-cookies-management.mjs","sources":["../../../projects/mdb-angular-cookies-management/src/lib/cookies-management.service.ts","../../../projects/mdb-angular-cookies-management/src/public-api.ts","../../../projects/mdb-angular-cookies-management/src/mdb-angular-cookies-management.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MdbCookiesManagementService {\n  constructor() {}\n\n  set(name: string, value: any, attributes: any = {}): string {\n    attributes = Object.assign(attributes, { path: '/' });\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Number(new Date()) + attributes.expires * 1000 * 60 * 60 * 24);\n    }\n\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    const stringifiedValue = JSON.stringify(value);\n    if (/^[{[]/.test(stringifiedValue)) {\n      value = stringifiedValue;\n    }\n\n    value = encodeURIComponent(String(value));\n\n    name = encodeURIComponent(String(name)).replace(/[()]/g, escape);\n\n    let stringifiedAttributes = '';\n    Object.keys(attributes).forEach((name: string) => {\n      stringifiedAttributes += `; ${name}`;\n      stringifiedAttributes += `=${attributes[name].split(';')[0]}`;\n    });\n\n    return (document.cookie = `${name}=${value}${stringifiedAttributes}`);\n  }\n\n  get(name?: string): string {\n    const cookies = document.cookie ? document.cookie.split('; ') : [];\n    const result = {};\n\n    cookies.forEach((el: string) => {\n      const cookie = el.split('=');\n      let cookieValue = cookie.slice(1).join('=');\n\n      const cookieName = cookie[0].replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\n      cookieValue = cookieValue.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\n      result[cookieName] = cookieValue;\n    });\n    return name ? result[name] : result;\n  }\n\n  remove(name: string): void {\n    this.set(name, '', { expires: -1 });\n  }\n}\n","/*\n * Public API Surface of mdb-angular-cookies-management\n */\n\nexport * from './lib/cookies-management.service';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}