import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, } from '@angular/core';
import * as i0 from "@angular/core";
import * as i1 from "mdb-angular-ui-kit/forms";
import * as i2 from "@angular/forms";
import * as i3 from "@angular/common";
export class MdbTransferContainerComponent {
    constructor(_cdRef) {
        this._cdRef = _cdRef;
        this._data = [];
        this._pagination = false;
        this._elementsPerPage = 5;
        this.onSearchOutput = new EventEmitter();
        this.onSelect = new EventEmitter();
        this.selectAllChecked = false;
        this.paginationPage = 1;
        this.formatedData = [];
        this.filteredData = [];
        this.searchId = this.generateUID();
        this.selectAllCheckboxId = this.generateUID();
    }
    get dataType() {
        return this._dataType;
    }
    set dataType(type) {
        this._dataType = type;
    }
    get data() {
        return this._data;
    }
    set data(data) {
        this._data = data;
        this.filteredData = data;
        this.updateData();
    }
    get pagination() {
        return this._pagination;
    }
    set pagination(isTrue) {
        this._pagination = coerceBooleanProperty(isTrue);
        this.updateData();
    }
    get elementsPerPage() {
        return this._elementsPerPage;
    }
    set elementsPerPage(value) {
        this._elementsPerPage = value;
    }
    get search() {
        return this._search;
    }
    set search(isTrue) {
        this._search = coerceBooleanProperty(isTrue);
    }
    get selectedItemsNumebr() {
        return [
            ...this.data.filter((item) => {
                return item.checked;
            }),
        ].length;
    }
    get isSeletedAll() {
        return this.data.every((el) => {
            return el.checked || el.disabled;
        });
    }
    ngAfterViewInit() {
        this.data.forEach((el) => {
            el.id = this.generateUID();
        });
        this.updateData();
    }
    toggleSelectAll() {
        if (this.isSeletedAll) {
            this.data.forEach((el) => {
                if (!el.disabled) {
                    el.checked = false;
                }
            });
        }
        else {
            this.data.forEach((el) => {
                if (!el.disabled) {
                    el.checked = true;
                }
            });
        }
        if (!this.isSeletedAll) {
            this.selectAllChecked = false;
        }
        this.onSelect.emit();
    }
    toggleSelect(item) {
        const element = this.data.find((el) => el === item);
        element.checked = !element.checked;
        if (!this.isSeletedAll) {
            this.selectAllChecked = false;
        }
        else {
            this.selectAllChecked = true;
        }
        this._cdRef.detectChanges();
        this.onSelect.emit();
    }
    changePaginationPage(direction) {
        const lastPage = Math.ceil(this.filteredData.length / this.elementsPerPage);
        if (direction === 'next' && this.paginationPage < lastPage) {
            this.paginationPage += 1;
        }
        else if (direction === 'previous' && this.paginationPage > 1) {
            this.paginationPage -= 1;
        }
        this.updateData();
    }
    _paginateData(data) {
        const startIndex = (this.paginationPage - 1) * this.elementsPerPage;
        const endIndex = startIndex + this.elementsPerPage;
        return data.slice(startIndex, endIndex);
    }
    updateData() {
        let updatedData = this.data;
        if (this.pagination) {
            updatedData = this._paginateData(this.filteredData);
        }
        else {
            updatedData = this.filteredData;
        }
        this.formatedData = updatedData;
        this._cdRef.markForCheck();
    }
    onSearch(searchKey) {
        const filteredData = this.data.filter((item) => {
            const lowerText = item.data.toLowerCase();
            const lowerKey = searchKey.toLowerCase();
            return lowerText.includes(lowerKey) ? item : false;
        });
        this.filteredData = filteredData;
        this.updateData();
        this.onSearchOutput.emit();
    }
    generateUID() {
        const uid = Math.random().toString(36).substr(2, 9);
        return `mdb-transfer-${uid}`;
    }
}
MdbTransferContainerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.2.7", ngImport: i0, type: MdbTransferContainerComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });
MdbTransferContainerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.2.7", type: MdbTransferContainerComponent, selector: "mdb-transfer-container", inputs: { dataType: "dataType", data: "data", pagination: "pagination", elementsPerPage: "elementsPerPage", search: "search" }, outputs: { onSearchOutput: "onSearchOutput", onSelect: "onSelect" }, ngImport: i0, template: "<div class=\"transfer-container-header\">\n  <div class=\"transfer-header-select-all-container\">\n    <input\n      #selectAllChekcbox\n      mdbCheckbox\n      class=\"form-check-input\"\n      type=\"checkbox\"\n      value=\"\"\n      id=\"{{selectAllCheckboxId}}\"\n      [(ngModel)]=\"selectAllChecked\"\n      (click)=\"toggleSelectAll()\"\n    />\n    <label \n      style=\"text-transform: capitalize\"\n      class=\"form-check-label\"\n      for=\"{{selectAllChekcbox.id}}\"\n    >\n      {{dataType}}\n    </label>\n  </div>\n  <span class=\"transfer-header-quantity\">\n    <span class=\"current-checked\">{{selectedItemsNumebr}}</span>\n    <span>/</span>\n    <span class=\"transfer-header-full-quantity\">{{data.length}}</span>\n  </span>\n</div>\n<mdb-form-control *ngIf=\"search\" class=\"transfer-search-outline\">\n  <input \n    #searchInput\n    mdbInput\n    type=\"text\"\n    id=\"mdb-transfer-search-{{searchId}}\"\n    class=\"form-control\"\n    (input)=\"onSearch($event.target.value)\"\n  />\n  <label \n    mdbLabel\n    class=\"form-label\"\n    for=\"{{searchInput.id}}\"\n  >\n    Search\n  </label>\n</mdb-form-control>\n<ul class=\"transfer-body\" [ngClass]=\"{'transfer-body-no-data': formatedData.length === 0}\">\n  <div *ngIf=\"data.length === 0\" class=\"transfer-body-no-data\">\n    <i class=\"far fa-folder-open transfer-no-data-mdb-icon\"></i>\n    <span>No Data</span>\n  </div>\n  <ng-container *ngIf=\"formatedData.length > 0\">\n    <li *ngFor=\"let item of formatedData\" class=\"transfer-body-item\">\n      <div class=\"form-check\">\n        <input\n          #itemCheckbox\n          mdbCheckbox\n          class=\"form-check-input transfer-body-item-text form-check-label transfer-body-item-checkbox\"\n          type=\"checkbox\"\n          value=\"\"\n          id=\"{{item.id}}\"\n          [ngClass]=\"{'transfer-body-item-checkbox-disabled': item.disabled}\"\n          [disabled]=\"item.disabled\"\n          [checked]=\"item.checked\"\n          (click)=\"toggleSelect(item)\"\n        />\n        <label \n          class=\"form-check-label transfer-body-item-text\"\n          for=\"{{item.id}}\"\n          [ngClass]=\"{'transfer-body-item-text-disabled': item.disabled}\"\n        >\n          {{ item.data }}\n        </label>\n      </div>\n    </li>\n  </ng-container>\n</ul>\n<div *ngIf=\"pagination\" class=\"transfer-footer\">\n  <button \n    class=\"btn btn-outline-primary btn-floating btn-sm transfer-footer-arrow\"\n    (click)=\"changePaginationPage('previous')\"  \n  >\n    <i class=\"fas fa-angle-left\"></i>\n  </button>\n  <span class=\"transfer-footer-current-page\">{{paginationPage}}</span>\n  <button \n    class=\"btn btn-outline-primary btn-floating btn-sm transfer-footer-arrow\"\n    (click)=\"changePaginationPage('next')\"  \n  >\n    <i class=\"fas fa-angle-right\"></i>\n  </button>\n</div>", components: [{ type: i1.MdbFormControlComponent, selector: "mdb-form-control" }], directives: [{ type: i2.CheckboxControlValueAccessor, selector: "input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]" }, { type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.MdbInputDirective, selector: "[mdbInput]", inputs: ["disabled", "readonly", "value"], exportAs: ["mdbInput"] }, { type: i1.MdbLabelDirective, selector: "[mdbLabel]", exportAs: ["mdbLabel"] }, { type: i3.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.2.7", ngImport: i0, type: MdbTransferContainerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'mdb-transfer-container', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"transfer-container-header\">\n  <div class=\"transfer-header-select-all-container\">\n    <input\n      #selectAllChekcbox\n      mdbCheckbox\n      class=\"form-check-input\"\n      type=\"checkbox\"\n      value=\"\"\n      id=\"{{selectAllCheckboxId}}\"\n      [(ngModel)]=\"selectAllChecked\"\n      (click)=\"toggleSelectAll()\"\n    />\n    <label \n      style=\"text-transform: capitalize\"\n      class=\"form-check-label\"\n      for=\"{{selectAllChekcbox.id}}\"\n    >\n      {{dataType}}\n    </label>\n  </div>\n  <span class=\"transfer-header-quantity\">\n    <span class=\"current-checked\">{{selectedItemsNumebr}}</span>\n    <span>/</span>\n    <span class=\"transfer-header-full-quantity\">{{data.length}}</span>\n  </span>\n</div>\n<mdb-form-control *ngIf=\"search\" class=\"transfer-search-outline\">\n  <input \n    #searchInput\n    mdbInput\n    type=\"text\"\n    id=\"mdb-transfer-search-{{searchId}}\"\n    class=\"form-control\"\n    (input)=\"onSearch($event.target.value)\"\n  />\n  <label \n    mdbLabel\n    class=\"form-label\"\n    for=\"{{searchInput.id}}\"\n  >\n    Search\n  </label>\n</mdb-form-control>\n<ul class=\"transfer-body\" [ngClass]=\"{'transfer-body-no-data': formatedData.length === 0}\">\n  <div *ngIf=\"data.length === 0\" class=\"transfer-body-no-data\">\n    <i class=\"far fa-folder-open transfer-no-data-mdb-icon\"></i>\n    <span>No Data</span>\n  </div>\n  <ng-container *ngIf=\"formatedData.length > 0\">\n    <li *ngFor=\"let item of formatedData\" class=\"transfer-body-item\">\n      <div class=\"form-check\">\n        <input\n          #itemCheckbox\n          mdbCheckbox\n          class=\"form-check-input transfer-body-item-text form-check-label transfer-body-item-checkbox\"\n          type=\"checkbox\"\n          value=\"\"\n          id=\"{{item.id}}\"\n          [ngClass]=\"{'transfer-body-item-checkbox-disabled': item.disabled}\"\n          [disabled]=\"item.disabled\"\n          [checked]=\"item.checked\"\n          (click)=\"toggleSelect(item)\"\n        />\n        <label \n          class=\"form-check-label transfer-body-item-text\"\n          for=\"{{item.id}}\"\n          [ngClass]=\"{'transfer-body-item-text-disabled': item.disabled}\"\n        >\n          {{ item.data }}\n        </label>\n      </div>\n    </li>\n  </ng-container>\n</ul>\n<div *ngIf=\"pagination\" class=\"transfer-footer\">\n  <button \n    class=\"btn btn-outline-primary btn-floating btn-sm transfer-footer-arrow\"\n    (click)=\"changePaginationPage('previous')\"  \n  >\n    <i class=\"fas fa-angle-left\"></i>\n  </button>\n  <span class=\"transfer-footer-current-page\">{{paginationPage}}</span>\n  <button \n    class=\"btn btn-outline-primary btn-floating btn-sm transfer-footer-arrow\"\n    (click)=\"changePaginationPage('next')\"  \n  >\n    <i class=\"fas fa-angle-right\"></i>\n  </button>\n</div>" }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }]; }, propDecorators: { dataType: [{
                type: Input
            }], data: [{
                type: Input
            }], pagination: [{
                type: Input
            }], elementsPerPage: [{
                type: Input
            }], search: [{
                type: Input
            }], onSearchOutput: [{
                type: Output
            }], onSelect: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNmZXItY29udGFpbmVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL21kYi1hbmd1bGFyLXRyYW5zZmVyL3NyYy9saWIvdHJhbnNmZXItY29udGFpbmVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uL3Byb2plY3RzL21kYi1hbmd1bGFyLXRyYW5zZmVyL3NyYy9saWIvdHJhbnNmZXItY29udGFpbmVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBZ0IscUJBQXFCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM1RSxPQUFPLEVBRUwsdUJBQXVCLEVBRXZCLFNBQVMsRUFDVCxZQUFZLEVBQ1osS0FBSyxFQUNMLE1BQU0sR0FDUCxNQUFNLGVBQWUsQ0FBQzs7Ozs7QUFRdkIsTUFBTSxPQUFPLDZCQUE2QjtJQTJEeEMsWUFBb0IsTUFBeUI7UUFBekIsV0FBTSxHQUFOLE1BQU0sQ0FBbUI7UUF4Q3JDLFVBQUssR0FBMkIsRUFBRSxDQUFDO1FBVW5DLGdCQUFXLEdBQUcsS0FBSyxDQUFDO1FBU3BCLHFCQUFnQixHQUFHLENBQUMsQ0FBQztRQVdWLG1CQUFjLEdBQXVCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDeEQsYUFBUSxHQUF1QixJQUFJLFlBQVksRUFBRSxDQUFDO1FBRXJFLHFCQUFnQixHQUFZLEtBQUssQ0FBQztRQUNsQyxtQkFBYyxHQUFHLENBQUMsQ0FBQztRQUNuQixpQkFBWSxHQUEyQixFQUFFLENBQUM7UUFDMUMsaUJBQVksR0FBMkIsRUFBRSxDQUFDO1FBQzFDLGFBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDOUIsd0JBQW1CLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBRU8sQ0FBQztJQTFEakQsSUFDSSxRQUFRO1FBQ1YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3hCLENBQUM7SUFD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TTsyRkR2RU8sNkJBQTZCO2tCQU56QyxTQUFTOytCQUVFLHdCQUF3QixtQkFFakIsdUJBQXVCLENBQUMsTUFBTTt3R0FJM0MsUUFBUTtzQkFEWCxLQUFLO2dCQVVGLElBQUk7c0JBRFAsS0FBSztnQkFZRixVQUFVO3NCQURiLEtBQUs7Z0JBV0YsZUFBZTtzQkFEbEIsS0FBSztnQkFVRixNQUFNO3NCQURULEtBQUs7Z0JBU2EsY0FBYztzQkFBaEMsTUFBTTtnQkFDWSxRQUFRO3NCQUExQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQm9vbGVhbklucHV0LCBjb2VyY2VCb29sZWFuUHJvcGVydHkgfSBmcm9tICdAYW5ndWxhci9jZGsvY29lcmNpb24nO1xuaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE91dHB1dCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNZGJUcmFuc2ZlckRhdGEgfSBmcm9tICcuL3RyYW5zZmVyLmludGVyZmFjZSc7XG5AQ29tcG9uZW50KHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgc2VsZWN0b3I6ICdtZGItdHJhbnNmZXItY29udGFpbmVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RyYW5zZmVyLWNvbnRhaW5lci5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBNZGJUcmFuc2ZlckNvbnRhaW5lckNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQge1xuICBASW5wdXQoKVxuICBnZXQgZGF0YVR5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YVR5cGU7XG4gIH1cbiAgc2V0IGRhdGFUeXBlKHR5cGU6IHN0cmluZykge1xuICAgIHRoaXMuX2RhdGFUeXBlID0gdHlwZTtcbiAgfVxuICBwcml2YXRlIF9kYXRhVHlwZTogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIGdldCBkYXRhKCk6IEFycmF5PE1kYlRyYW5zZmVyRGF0YT4ge1xuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9XG4gIHNldCBkYXRhKGRhdGE6IEFycmF5PE1kYlRyYW5zZmVyRGF0YT4pIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLmZpbHRlcmVkRGF0YSA9IGRhdGE7XG4gICAgdGhpcy51cGRhdGVEYXRhKCk7XG4gIH1cbiAgcHJpdmF0ZSBfZGF0YTogQXJyYXk8TWRiVHJhbnNmZXJEYXRhPiA9IFtdO1xuXG4gIEBJbnB1dCgpXG4gIGdldCBwYWdpbmF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9wYWdpbmF0aW9uO1xuICB9XG4gIHNldCBwYWdpbmF0aW9uKGlzVHJ1ZTogQm9vbGVhbklucHV0KSB7XG4gICAgdGhpcy5fcGFnaW5hdGlvbiA9IGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eShpc1RydWUpO1xuICAgIHRoaXMudXBkYXRlRGF0YSgpO1xuICB9XG4gIHByaXZhdGUgX3BhZ2luYXRpb24gPSBmYWxzZTtcblxuICBASW5wdXQoKVxuICBnZXQgZWxlbWVudHNQZXJQYWdlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzUGVyUGFnZTtcbiAgfVxuICBzZXQgZWxlbWVudHNQZXJQYWdlKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLl9lbGVtZW50c1BlclBhZ2UgPSB2YWx1ZTtcbiAgfVxuICBwcml2YXRlIF9lbGVtZW50c1BlclBhZ2UgPSA1O1xuXG4gIEBJbnB1dCgpXG4gIGdldCBzZWFyY2goKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlYXJjaDtcbiAgfVxuICBzZXQgc2VhcmNoKGlzVHJ1ZTogQm9vbGVhbklucHV0KSB7XG4gICAgdGhpcy5fc2VhcmNoID0gY29lcmNlQm9vbGVhblByb3BlcnR5KGlzVHJ1ZSk7XG4gIH1cbiAgcHJpdmF0ZSBfc2VhcmNoOiBib29sZWFuO1xuXG4gIEBPdXRwdXQoKSByZWFkb25seSBvblNlYXJjaE91dHB1dDogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgcmVhZG9ubHkgb25TZWxlY3Q6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBzZWxlY3RBbGxDaGVja2VkOiBib29sZWFuID0gZmFsc2U7XG4gIHBhZ2luYXRpb25QYWdlID0gMTtcbiAgZm9ybWF0ZWREYXRhOiBBcnJheTxNZGJUcmFuc2ZlckRhdGE+ID0gW107XG4gIGZpbHRlcmVkRGF0YTogQXJyYXk8TWRiVHJhbnNmZXJEYXRhPiA9IFtdO1xuICBzZWFyY2hJZCA9IHRoaXMuZ2VuZXJhdGVVSUQoKTtcbiAgc2VsZWN0QWxsQ2hlY2tib3hJZCA9IHRoaXMuZ2VuZXJhdGVVSUQoKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jZFJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHt9XG5cbiAgZ2V0IHNlbGVjdGVkSXRlbXNOdW1lYnIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gW1xuICAgICAgLi4udGhpcy5kYXRhLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkO1xuICAgICAgfSksXG4gICAgXS5sZW5ndGg7XG4gIH1cblxuICBnZXQgaXNTZWxldGVkQWxsKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRhdGEuZXZlcnkoKGVsKSA9PiB7XG4gICAgICByZXR1cm4gZWwuY2hlY2tlZCB8fCBlbC5kaXNhYmxlZDtcbiAgICB9KTtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLmlkID0gdGhpcy5nZW5lcmF0ZVVJRCgpO1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlRGF0YSgpO1xuICB9XG5cbiAgdG9nZ2xlU2VsZWN0QWxsKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU2VsZXRlZEFsbCkge1xuICAgICAgdGhpcy5kYXRhLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGlmICghZWwuZGlzYWJsZWQpIHtcbiAgICAgICAgICBlbC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgaWYgKCFlbC5kaXNhYmxlZCkge1xuICAgICAgICAgIGVsLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNTZWxldGVkQWxsKSB7XG4gICAgICB0aGlzLnNlbGVjdEFsbENoZWNrZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5vblNlbGVjdC5lbWl0KCk7XG4gIH1cblxuICB0b2dnbGVTZWxlY3QoaXRlbTogTWRiVHJhbnNmZXJEYXRhKTogdm9pZCB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZGF0YS5maW5kKChlbCkgPT4gZWwgPT09IGl0ZW0pO1xuICAgIGVsZW1lbnQuY2hlY2tlZCA9ICFlbGVtZW50LmNoZWNrZWQ7XG5cbiAgICBpZiAoIXRoaXMuaXNTZWxldGVkQWxsKSB7XG4gICAgICB0aGlzLnNlbGVjdEFsbENoZWNrZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RBbGxDaGVja2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fY2RSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHRoaXMub25TZWxlY3QuZW1pdCgpO1xuICB9XG5cbiAgY2hhbmdlUGFnaW5hdGlvblBhZ2UoZGlyZWN0aW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBsYXN0UGFnZSA9IE1hdGguY2VpbCh0aGlzLmZpbHRlcmVkRGF0YS5sZW5ndGggLyB0aGlzLmVsZW1lbnRzUGVyUGFnZSk7XG5cbiAgICBpZiAoZGlyZWN0aW9uID09PSAnbmV4dCcgJiYgdGhpcy5wYWdpbmF0aW9uUGFnZSA8IGxhc3RQYWdlKSB7XG4gICAgICB0aGlzLnBhZ2luYXRpb25QYWdlICs9IDE7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2aW91cycgJiYgdGhpcy5wYWdpbmF0aW9uUGFnZSA+IDEpIHtcbiAgICAgIHRoaXMucGFnaW5hdGlvblBhZ2UgLT0gMTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZURhdGEoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3BhZ2luYXRlRGF0YShkYXRhOiBBcnJheTxNZGJUcmFuc2ZlckRhdGE+KTogQXJyYXk8TWRiVHJhbnNmZXJEYXRhPiB7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9ICh0aGlzLnBhZ2luYXRpb25QYWdlIC0gMSkgKiB0aGlzLmVsZW1lbnRzUGVyUGFnZTtcbiAgICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0SW5kZXggKyB0aGlzLmVsZW1lbnRzUGVyUGFnZTtcblxuICAgIHJldHVybiBkYXRhLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgfVxuXG4gIHVwZGF0ZURhdGEoKTogdm9pZCB7XG4gICAgbGV0IHVwZGF0ZWREYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgaWYgKHRoaXMucGFnaW5hdGlvbikge1xuICAgICAgdXBkYXRlZERhdGEgPSB0aGlzLl9wYWdpbmF0ZURhdGEodGhpcy5maWx0ZXJlZERhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVkRGF0YSA9IHRoaXMuZmlsdGVyZWREYXRhO1xuICAgIH1cblxuICAgIHRoaXMuZm9ybWF0ZWREYXRhID0gdXBkYXRlZERhdGE7XG4gICAgdGhpcy5fY2RSZWYubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBvblNlYXJjaChzZWFyY2hLZXk6IFN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGZpbHRlcmVkRGF0YSA9IHRoaXMuZGF0YS5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGxvd2VyVGV4dCA9IGl0ZW0uZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgbG93ZXJLZXkgPSBzZWFyY2hLZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBsb3dlclRleHQuaW5jbHVkZXMobG93ZXJLZXkpID8gaXRlbSA6IGZhbHNlO1xuICAgIH0pO1xuICAgIHRoaXMuZmlsdGVyZWREYXRhID0gZmlsdGVyZWREYXRhO1xuICAgIHRoaXMudXBkYXRlRGF0YSgpO1xuICAgIHRoaXMub25TZWFyY2hPdXRwdXQuZW1pdCgpO1xuICB9XG5cbiAgZ2VuZXJhdGVVSUQoKTogc3RyaW5nIHtcbiAgICBjb25zdCB1aWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG4gICAgcmV0dXJuIGBtZGItdHJhbnNmZXItJHt1aWR9YDtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cInRyYW5zZmVyLWNvbnRhaW5lci1oZWFkZXJcIj5cbiAgPGRpdiBjbGFzcz1cInRyYW5zZmVyLWhlYWRlci1zZWxlY3QtYWxsLWNvbnRhaW5lclwiPlxuICAgIDxpbnB1dFxuICAgICAgI3NlbGVjdEFsbENoZWtjYm94XG4gICAgICBtZGJDaGVja2JveFxuICAgICAgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCJcbiAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICB2YWx1ZT1cIlwiXG4gICAgICBpZD1cInt7c2VsZWN0QWxsQ2hlY2tib3hJZH19XCJcbiAgICAgIFsobmdNb2RlbCldPVwic2VsZWN0QWxsQ2hlY2tlZFwiXG4gICAgICAoY2xpY2spPVwidG9nZ2xlU2VsZWN0QWxsKClcIlxuICAgIC8+XG4gICAgPGxhYmVsIFxuICAgICAgc3R5bGU9XCJ0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZVwiXG4gICAgICBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIlxuICAgICAgZm9yPVwie3tzZWxlY3RBbGxDaGVrY2JveC5pZH19XCJcbiAgICA+XG4gICAgICB7e2RhdGFUeXBlfX1cbiAgICA8L2xhYmVsPlxuICA8L2Rpdj5cbiAgPHNwYW4gY2xhc3M9XCJ0cmFuc2Zlci1oZWFkZXItcXVhbnRpdHlcIj5cbiAgICA8c3BhbiBjbGFzcz1cImN1cnJlbnQtY2hlY2tlZFwiPnt7c2VsZWN0ZWRJdGVtc051bWVicn19PC9zcGFuPlxuICAgIDxzcGFuPi88L3NwYW4+XG4gICAgPHNwYW4gY2xhc3M9XCJ0cmFuc2Zlci1oZWFkZXItZnVsbC1xdWFudGl0eVwiPnt7ZGF0YS5sZW5ndGh9fTwvc3Bhbj5cbiAgPC9zcGFuPlxuPC9kaXY+XG48bWRiLWZvcm0tY29udHJvbCAqbmdJZj1cInNlYXJjaFwiIGNsYXNzPVwidHJhbnNmZXItc2VhcmNoLW91dGxpbmVcIj5cbiAgPGlucHV0IFxuICAgICNzZWFyY2hJbnB1dFxuICAgIG1kYklucHV0XG4gICAgdHlwZT1cInRleHRcIlxuICAgIGlkPVwibWRiLXRyYW5zZmVyLXNlYXJjaC17e3NlYXJjaElkfX1cIlxuICAgIGNsYXNzPVwiZm9ybS1jb250cm9sXCJcbiAgICAoaW5wdXQpPVwib25TZWFyY2goJGV2ZW50LnRhcmdldC52YWx1ZSlcIlxuICAvPlxuICA8bGFiZWwgXG4gICAgbWRiTGFiZWxcbiAgICBjbGFzcz1cImZvcm0tbGFiZWxcIlxuICAgIGZvcj1cInt7c2VhcmNoSW5wdXQuaWR9fVwiXG4gID5cbiAgICBTZWFyY2hcbiAgPC9sYWJlbD5cbjwvbWRiLWZvcm0tY29udHJvbD5cbjx1bCBjbGFzcz1cInRyYW5zZmVyLWJvZHlcIiBbbmdDbGFzc109XCJ7J3RyYW5zZmVyLWJvZHktbm8tZGF0YSc6IGZvcm1hdGVkRGF0YS5sZW5ndGggPT09IDB9XCI+XG4gIDxkaXYgKm5nSWY9XCJkYXRhLmxlbmd0aCA9PT0gMFwiIGNsYXNzPVwidHJhbnNmZXItYm9keS1uby1kYXRhXCI+XG4gICAgPGkgY2xhc3M9XCJmYXIgZmEtZm9sZGVyLW9wZW4gdHJhbnNmZXItbm8tZGF0YS1tZGItaWNvblwiPjwvaT5cbiAgICA8c3Bhbj5ObyBEYXRhPC9zcGFuPlxuICA8L2Rpdj5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImZvcm1hdGVkRGF0YS5sZW5ndGggPiAwXCI+XG4gICAgPGxpICpuZ0Zvcj1cImxldCBpdGVtIG9mIGZvcm1hdGVkRGF0YVwiIGNsYXNzPVwidHJhbnNmZXItYm9keS1pdGVtXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICAjaXRlbUNoZWNrYm94XG4gICAgICAgICAgbWRiQ2hlY2tib3hcbiAgICAgICAgICBjbGFzcz1cImZvcm0tY2hlY2staW5wdXQgdHJhbnNmZXItYm9keS1pdGVtLXRleHQgZm9ybS1jaGVjay1sYWJlbCB0cmFuc2Zlci1ib2R5LWl0ZW0tY2hlY2tib3hcIlxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgdmFsdWU9XCJcIlxuICAgICAgICAgIGlkPVwie3tpdGVtLmlkfX1cIlxuICAgICAgICAgIFtuZ0NsYXNzXT1cInsndHJhbnNmZXItYm9keS1pdGVtLWNoZWNrYm94LWRpc2FibGVkJzogaXRlbS5kaXNhYmxlZH1cIlxuICAgICAgICAgIFtkaXNhYmxlZF09XCJpdGVtLmRpc2FibGVkXCJcbiAgICAgICAgICBbY2hlY2tlZF09XCJpdGVtLmNoZWNrZWRcIlxuICAgICAgICAgIChjbGljayk9XCJ0b2dnbGVTZWxlY3QoaXRlbSlcIlxuICAgICAgICAvPlxuICAgICAgICA8bGFiZWwgXG4gICAgICAgICAgY2xhc3M9XCJmb3JtLWNoZWNrLWxhYmVsIHRyYW5zZmVyLWJvZHktaXRlbS10ZXh0XCJcbiAgICAgICAgICBmb3I9XCJ7e2l0ZW0uaWR9fVwiXG4gICAgICAgICAgW25nQ2xhc3NdPVwieyd0cmFuc2Zlci1ib2R5LWl0ZW0tdGV4dC1kaXNhYmxlZCc6IGl0ZW0uZGlzYWJsZWR9XCJcbiAgICAgICAgPlxuICAgICAgICAgIHt7IGl0ZW0uZGF0YSB9fVxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgPC9saT5cbiAgPC9uZy1jb250YWluZXI+XG48L3VsPlxuPGRpdiAqbmdJZj1cInBhZ2luYXRpb25cIiBjbGFzcz1cInRyYW5zZmVyLWZvb3RlclwiPlxuICA8YnV0dG9uIFxuICAgIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLWZsb2F0aW5nIGJ0bi1zbSB0cmFuc2Zlci1mb290ZXItYXJyb3dcIlxuICAgIChjbGljayk9XCJjaGFuZ2VQYWdpbmF0aW9uUGFnZSgncHJldmlvdXMnKVwiICBcbiAgPlxuICAgIDxpIGNsYXNzPVwiZmFzIGZhLWFuZ2xlLWxlZnRcIj48L2k+XG4gIDwvYnV0dG9uPlxuICA8c3BhbiBjbGFzcz1cInRyYW5zZmVyLWZvb3Rlci1jdXJyZW50LXBhZ2VcIj57e3BhZ2luYXRpb25QYWdlfX08L3NwYW4+XG4gIDxidXR0b24gXG4gICAgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tZmxvYXRpbmcgYnRuLXNtIHRyYW5zZmVyLWZvb3Rlci1hcnJvd1wiXG4gICAgKGNsaWNrKT1cImNoYW5nZVBhZ2luYXRpb25QYWdlKCduZXh0JylcIiAgXG4gID5cbiAgICA8aSBjbGFzcz1cImZhcyBmYS1hbmdsZS1yaWdodFwiPjwvaT5cbiAgPC9idXR0b24+XG48L2Rpdj4iXX0=